(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{468:function(e,t,a){"use strict";var n=a(9),r=a(10),l=a(25),c=a(11),i=a(12),s=a(6),o=a(0),u=a.n(o),m=a(44),d=a(15),p=a(30),f=(a(3),a(4));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var g=function(e){Object(c.a)(a,e);var t=y(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onPage=function(e){r.setState({current_page:e}),r.props.onPage&&r.props.onPage(e)},r.onPageGo=function(){var e=document.getElementById("page_nav_go_inp").value;if(""!==e){var t=parseInt(e);t<=0||t>r.state.total_page||(r.setState({current_page:t}),r.props.onPage&&r.props.onPage(t))}},r.getS1=function(e,t,a,n){return u.a.createElement("div",{name:"module",id:"pager",className:"pager",action:"result",format:"format_result"},"\u7b2c ",u.a.createElement("span",{className:"pageindex red"},e)," \u9875 \u5171 ",u.a.createElement("span",{className:"pagecount red"},t)," \u9875 \u5171 ",u.a.createElement("span",{className:"recordcount red"},a)," \u6761",u.a.createElement("a",{href:"javascript:void(0)",className:"fn-first",onClick:r.onPage.bind(Object(l.a)(r),1)},"\u9996\u9875"),1===e&&u.a.createElement("a",{href:"javascript:void(0)",className:"fn-prev"},"\u4e0a\u4e00\u9875"),e>1&&u.a.createElement("a",{href:"javascript:void(0)",className:"fn-prev",onClick:r.onPage.bind(Object(l.a)(r),e-1)},"\u4e0a\u4e00\u9875"),e===t&&u.a.createElement("a",{href:"javascript:void(0)",className:"fn-next"},"\u4e0b\u4e00\u9875"),e<t&&u.a.createElement("a",{href:"javascript:void(0)",className:"fn-next",onClick:r.onPage.bind(Object(l.a)(r),e+1)},"\u4e0b\u4e00\u9875"),u.a.createElement("a",{href:"javascript:void(0)",className:"fn-last",onClick:r.onPage.bind(Object(l.a)(r),t)},"\u5c3e\u9875"),u.a.createElement("input",{type:"text",id:"page_nav_go_inp",className:"input w30 fn-index"}),"\xa0",u.a.createElement("input",{type:"button",onClick:r.onPageGo.bind(Object(l.a)(r)),className:"btn btn-gray w30 fn-go",value:"GO"}))},r.getS2=function(e,t,a,n){return u.a.createElement("nav",{"aria-label":"Page navigation"},u.a.createElement("ul",{className:"pagination pagination-lg justify-content-center"},1===e&&u.a.createElement("li",{className:"page-item disabled"},u.a.createElement("a",{className:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),e>1&&u.a.createElement("li",{className:"page-item"},u.a.createElement("a",{className:"page-link",onClick:r.onPage.bind(Object(l.a)(r),e-1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),n.map(function(t){return u.a.createElement("li",{className:e===t?"page-item active":"page-item"},u.a.createElement("a",{onClick:r.onPage.bind(Object(l.a)(r),t),className:"page-link",href:"javascript:;"},t))}),e===t&&u.a.createElement("li",{className:"page-item disabled"},u.a.createElement("a",{className:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801")),e<t&&u.a.createElement("li",{className:"page-item"},u.a.createElement("a",{className:"page-link",onClick:r.onPage.bind(Object(l.a)(r),e+1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801"))))},r.state={pager:{},list:[],total_page:1,current_page:1,total:0},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pager;this.setData(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.pager;this.setData(e)}},{key:"setData",value:function(e){if(!f.a.isEqual(e,this.state.pager)){var t=Math.floor(e.total/e.size);e.total%e.size!==0&&t++;for(var a=new Array,n=1;n<=t;n++)a.push(n);var r=e.offset/e.size+1;this.setState({list:a,total_page:t,current_page:r,total:e.total,pager:e})}}},{key:"render",value:function(){var e=this.state,t=e.current_page,a=e.total_page,n=e.list,r=e.total;return this.getS1(t,a,r,n)}}]),a}(o.Component);t.a=Object(m.g)(Object(p.a)(function(e){return{}},function(e){return Object(d.c)({},e)})(g))},527:function(e,t,a){},528:function(e,t,a){},560:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),l=a(25),c=a(11),i=a(12),s=a(6),o=a(0),u=a.n(o),m=a(44),d=a(15),p=a(30),f=a(3),y=(a(4),a(62)),g=a(33);a(468),a(527),a(528);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}o.Component;function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var v=function(e){Object(c.a)(a,e);var t=b(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).gotoOrderList=function(e,t){y.a.push({pathname:"/orderlist/"+e+"/"+t})},r.htmlNumber=function(e){return e>=0?Object(f.f)(e):u.a.createElement("font",{color:"red"},Object(f.f)(e))},r.onSelectDate=function(e){var t=0,a=0,n=-1,l=-1;if("this_week"===e){var c=(new Date).getDay();t=0===c?parseInt(Object(f.a)((new Date).getTime()-5184e5,"yyyyMMdd")):1===c?parseInt(Object(f.a)((new Date).getTime(),"yyyyMMdd")):parseInt(Object(f.a)((new Date).getTime()-24*(c-1)*6e4*60,"yyyyMMdd")),l=r.state.lottery_list.length-1}else if("this_month"===e){var i=(new Date).getDate();t=parseInt(Object(f.a)((new Date).getTime()-24*(i-1)*6e4*60,"yyyyMMdd")),l=r.state.lottery_list.length-1}else{var s=(new Date).getDate();t=parseInt(Object(f.a)((new Date).getTime()-24*(s-1)*6e4*60-2592e6,"yyyyMMdd")),a=parseInt(Object(f.a)((new Date).getTime()-24*s*6e4*60,"yyyyMMdd"))}for(var o=r.state.lottery_list,u=o.length-1;u>=0;u--){var m=o[u],d=parseInt(Object(f.a)(m.luck_time,"yyyyMMdd"));if(-1===l&&a>=d){l=u;break}}for(var p=0;p<o.length;p++){var y=o[p],g=parseInt(Object(f.a)(y.luck_time,"yyyyMMdd"));if(-1===n&&t<=g){n=p;break}}-1!==n&&-1!==l?r.setState({start_idx:n,end_idx:l}):alert("\u62b1\u6b49\uff0c\u9009\u62e9\u7684\u65f6\u95f4\u8303\u56f4\u5185\u6682\u65e0\u6570\u636e\uff01")},r.onChangeStartRange=function(){var e=parseInt(document.getElementById("StartDt").value);r.setState({start_idx:e})},r.onChangeEndRange=function(){var e=parseInt(document.getElementById("EndDt").value);r.setState({end_idx:e})},r.onSearch=function(){var e=Object(l.a)(r),t=r.state.lottery_list;e.props.getReportByLottery("me",t[e.state.start_idx].lottery_id,t[e.state.end_idx].lottery_id,function(t){e.setState({list:t.summary_list})})},r.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},r.sumReward=function(e){var t=0;return e.forEach(function(e){t+=0!=e.op1.final_profit?e.op1.final_profit-e.op1.fee_in:0}),t},r.state={inited:!1,lottery_list:[],list:[],pageSize:50,pageOffset:0,start_idx:0,end_idx:0},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listAllLottery(0,99999,function(t){var a=t.list;e.setState({lottery_list:a.reverse(),start_idx:0,end_idx:a.length-1},function(){e.props.getReportByLottery("me",a[0].lottery_id,a[a.length-1].lottery_id,function(t){e.setState({list:t.summary_list})})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.lottery_list,r=t.start_idx,l=t.end_idx;return u.a.createElement("div",{className:"main",style:{paddingRight:"35px"}},u.a.createElement("div",{className:"m10 module"},u.a.createElement("div",{className:"module-wrap"},u.a.createElement("div",{class:"bet-btn"},u.a.createElement("span",{class:"tc"},"\u65e5\u671f\u67e5\u8a62\uff1a"),u.a.createElement("select",{id:"StartDt",name:"StartDt",class:"vm",onChange:this.onChangeStartRange.bind(this)},n.map(function(e,t){return u.a.createElement("option",{selected:t===r,value:t},Object(f.a)(e.open_time,"yyyy-MM-dd")," (",e.period,"\u671f)")})),u.a.createElement("span",{class:"vm"}," ~ "),u.a.createElement("select",{id:"EndDt",name:"EndDt",class:"vm",onChange:this.onChangeEndRange.bind(this)},n.map(function(e,t){return u.a.createElement("option",{selected:t===l,value:t},Object(f.a)(e.luck_time,"yyyy-MM-dd")," (",e.period,"\u671f)")})),"\xa0\xa0",u.a.createElement("input",{type:"button",class:"btn-gray fn-daterange vm",value:"\u672c\u5468",onClick:this.onSelectDate.bind(this,"this_week")}),"\xa0\xa0",u.a.createElement("input",{type:"button",class:"btn-gray fn-daterange vm",value:"\u672c\u6708",onClick:this.onSelectDate.bind(this,"this_month")}),"\xa0\xa0",u.a.createElement("input",{type:"button",value:"\u67e5\u8a62",class:"btn-gray fn-query vm",id:"btn_query",onClick:this.onSearch.bind(this)})),u.a.createElement("table",{className:"t-ball t-1"},u.a.createElement("thead",null,u.a.createElement("tr",{className:"bg-yellow tc"},u.a.createElement("td",null,"\u4ea4\u6613\u65e5\u671f"),u.a.createElement("td",null,"\u6ce8\u5355\u6570"),u.a.createElement("td",null,"\u4e0b\u6ce8\u91d1\u984d"),u.a.createElement("td",null,"\u6709\u6548\u91d1\u984d"),u.a.createElement("td",null,"\u6d3e\u5f69"),u.a.createElement("td",null,"\u9000\u6c34"),u.a.createElement("td",null,"\u7ed3\u679c"))),u.a.createElement("tbody",{className:"tc"},a.map(function(t,a){return u.a.createElement("tr",{key:"tr-"+a,style:{cursor:"pointer"},onClick:e.gotoOrderList.bind(e,t.uid,t.lottery_id)},u.a.createElement("td",{width:"200"},Object(f.a)(t.luck_time,"yyyy-MM-dd \u661f\u671fw")),u.a.createElement("td",null,t.total_count),u.a.createElement("td",null,e.htmlNumber(t.all_total_amount)),u.a.createElement("td",null,e.htmlNumber(t.total_amount)),u.a.createElement("td",null,e.htmlNumber(null!=t.op1.final_profit&&0!=t.op1.final_profit?t.op1.final_profit-t.op1.fee_in:0)),u.a.createElement("td",null,e.htmlNumber(t.op1.fee_in)),u.a.createElement("td",null,e.htmlNumber(t.op1.final_profit)))}),0===a.length&&u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"7"},"\u66ab\u7121\u6295\u6ce8\u6578\u64da")),u.a.createElement("tr",null,u.a.createElement("td",{className:"",style:{color:"red"}},"\u603b\u8ba1"),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sum(a,"total_count"))),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sum(a,"all_total_amount"))),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sum(a,"total_amount"))),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sumReward(a))),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sum(a.map(function(e){return e.op1}),"fee_in"),3)),u.a.createElement("td",{className:"",style:{color:"red"}},this.htmlNumber(this.sum(a.map(function(e){return e.op1}),"final_profit"),3)))),u.a.createElement("thead",null,u.a.createElement("tr",{className:"bg-yellow tc"},u.a.createElement("td",{colspan:"7"},"\xa0")))))))}}]),a}(o.Component);t.default=Object(m.g)(Object(p.a)(function(e){var t=e.orders;return{pager:t.pager,list:t.list}},function(e){return Object(d.c)({listAllLottery:g.k,getReportByLottery:g.i},e)})(v))}}]);