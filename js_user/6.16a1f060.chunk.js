(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{468:function(e,t,a){"use strict";var n=a(9),l=a(10),r=a(25),c=a(11),o=a(12),i=a(6),s=a(0),m=a.n(s),u=a(44),d=a(15),f=a(30),p=(a(3),a(4));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var l=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var E=function(e){Object(c.a)(a,e);var t=h(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).onPage=function(e){l.setState({current_page:e}),l.props.onPage&&l.props.onPage(e)},l.onPageGo=function(){var e=document.getElementById("page_nav_go_inp").value;if(""!==e){var t=parseInt(e);t<=0||t>l.state.total_page||(l.setState({current_page:t}),l.props.onPage&&l.props.onPage(t))}},l.getS1=function(e,t,a,n){return m.a.createElement("div",{name:"module",id:"pager",className:"pager",action:"result",format:"format_result"},"\u7b2c ",m.a.createElement("span",{className:"pageindex red"},e)," \u9875 \u5171 ",m.a.createElement("span",{className:"pagecount red"},t)," \u9875 \u5171 ",m.a.createElement("span",{className:"recordcount red"},a)," \u6761",m.a.createElement("a",{href:"javascript:void(0)",className:"fn-first",onClick:l.onPage.bind(Object(r.a)(l),1)},"\u9996\u9875"),1===e&&m.a.createElement("a",{href:"javascript:void(0)",className:"fn-prev"},"\u4e0a\u4e00\u9875"),e>1&&m.a.createElement("a",{href:"javascript:void(0)",className:"fn-prev",onClick:l.onPage.bind(Object(r.a)(l),e-1)},"\u4e0a\u4e00\u9875"),e===t&&m.a.createElement("a",{href:"javascript:void(0)",className:"fn-next"},"\u4e0b\u4e00\u9875"),e<t&&m.a.createElement("a",{href:"javascript:void(0)",className:"fn-next",onClick:l.onPage.bind(Object(r.a)(l),e+1)},"\u4e0b\u4e00\u9875"),m.a.createElement("a",{href:"javascript:void(0)",className:"fn-last",onClick:l.onPage.bind(Object(r.a)(l),t)},"\u5c3e\u9875"),m.a.createElement("input",{type:"text",id:"page_nav_go_inp",className:"input w30 fn-index"}),"\xa0",m.a.createElement("input",{type:"button",onClick:l.onPageGo.bind(Object(r.a)(l)),className:"btn btn-gray w30 fn-go",value:"GO"}))},l.getS2=function(e,t,a,n){return m.a.createElement("nav",{"aria-label":"Page navigation"},m.a.createElement("ul",{className:"pagination pagination-lg justify-content-center"},1===e&&m.a.createElement("li",{className:"page-item disabled"},m.a.createElement("a",{className:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),e>1&&m.a.createElement("li",{className:"page-item"},m.a.createElement("a",{className:"page-link",onClick:l.onPage.bind(Object(r.a)(l),e-1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),n.map(function(t){return m.a.createElement("li",{className:e===t?"page-item active":"page-item"},m.a.createElement("a",{onClick:l.onPage.bind(Object(r.a)(l),t),className:"page-link",href:"javascript:;"},t))}),e===t&&m.a.createElement("li",{className:"page-item disabled"},m.a.createElement("a",{className:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801")),e<t&&m.a.createElement("li",{className:"page-item"},m.a.createElement("a",{className:"page-link",onClick:l.onPage.bind(Object(r.a)(l),e+1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801"))))},l.state={pager:{},list:[],total_page:1,current_page:1,total:0},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pager;this.setData(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.pager;this.setData(e)}},{key:"setData",value:function(e){if(!p.a.isEqual(e,this.state.pager)){var t=Math.floor(e.total/e.size);e.total%e.size!==0&&t++;for(var a=new Array,n=1;n<=t;n++)a.push(n);var l=e.offset/e.size+1;this.setState({list:a,total_page:t,current_page:l,total:e.total,pager:e})}}},{key:"render",value:function(){var e=this.state,t=e.current_page,a=e.total_page,n=e.list,l=e.total;return this.getS1(t,a,l,n)}}]),a}(s.Component);t.a=Object(u.g)(Object(f.a)(function(e){return{}},function(e){return Object(d.c)({},e)})(E))},473:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(9),l=a(10),r=a(25),c=a(11),o=a(12),i=a(6),s=a(0),m=a.n(s),u=a(57),d=a(3);a(4);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var l=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var p=function(e){Object(c.a)(a,e);var t=f(a);function a(e,l){var c;return Object(n.a)(this,a),(c=t.call(this,e)).handleClose=function(){c.close()},c.componentDidMount=function(){Object(r.a)(c);var e=(document.body.clientWidth||document.documentElement.clientWidth)/2,t=(document.documentElement.clientHeight||document.body.clientHeight)/2;c.setState({top:t,left:e})},c.close=function(){!function(){var e=document.getElementById("react-confirm-alert");e&&(Object(u.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}()},c.getRoleList=function(){var e=window.role,t=new Array;for(t.push(e);e>=20;)999===e?(e=70,t.push(e)):20===e?e=1:(e-=10,t.push(e));return t},c.htmlNumber=function(e){return e>=0?Object(d.f)(e,0):m.a.createElement("font",{color:"red"},Object(d.f)(e,0))},c.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},c.subPartAmount=function(e,t){var a=0;return e.forEach(function(e){a+=parseFloat(Object(d.f)(e["op"+t].part/100,3))*e.total_amount}),a},c.htmlNumber=function(e){return e>=0?Object(d.f)(e,3):m.a.createElement("font",{color:"red"},Object(d.f)(e,3))},c.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},c.state={top:0,left:0,width:e.width,height:e.height,current_role:window.role},c.moving=!1,c.lastX=null,c.lastY=null,window.onmouseup=function(e){return c.onMouseUp(e)},window.onmousemove=function(e){return c.onMouseMove(e)},c}return Object(l.a)(a,[{key:"onMouseDown",value:function(e){e.stopPropagation(),this.moving=!0}},{key:"onMouseUp",value:function(){this.moving=!1,this.lastX=null,this.lastY=null}},{key:"onMouseMove",value:function(e){this.moving&&this.onMove(e)}},{key:"onMove",value:function(e){if(this.lastX&&this.lastY){var t=e.clientX-this.lastX,a=e.clientY-this.lastY;this.setState({left:this.state.left+t,top:this.state.top+a})}this.lastX=e.clientX,this.lastY=e.clientY}},{key:"render",value:function(){var e=this,t=this.props,a=(t.title,t.width),n=t.order,l=this.state,r=l.left,c=l.top;l.current_role;return m.a.createElement("div",{className:"react-confirm-alert-overlay"},m.a.createElement("div",{class:"g-dialog g-confirm",style:{width:a+"px",top:c+"px",left:r+"px",display:"block"}},m.a.createElement("div",{class:"dialog-hd",onMouseDown:function(t){return e.onMouseDown(t)}},m.a.createElement("div",{class:"title fl"},"\u8be6\u7ec6\u5185\u5bb9"),m.a.createElement("div",{className:"fr"},m.a.createElement("a",{href:"javascript:void(0)",onClick:this.handleClose.bind(this),className:"btn-close fn-close"},"\xd7"))),m.a.createElement("div",{class:"dialog-bd",style:{maxHeight:"450px",overflowX:"hidden",overflowY:"scroll"}},m.a.createElement("div",{className:"m5 realtime_betdetail"},m.a.createElement("table",{className:"t-1 tc mb10"},m.a.createElement("thead",null,m.a.createElement("tr",{className:"bg1"},m.a.createElement("td",null,"\u5e8f\u53f7"),m.a.createElement("td",null,"\u6295\u6ce8\u9009\u9879"),m.a.createElement("td",null,"\u76d8\u53e3"),m.a.createElement("td",null,"\u4e0b\u6ce8\u91d1\u984d"),m.a.createElement("td",null,"\u8ce0\u7387"),m.a.createElement("td",null,"\u9000\u6c34(%)"),m.a.createElement("td",null,"\u76c8\u4e8f"),m.a.createElement("td",null,"\u4e0b\u6ce8\u7ed3\u679c"))),m.a.createElement("tbody",null,n.number_list.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,n.algorithm_name," - ",t.number),m.a.createElement("td",null,n.pan),m.a.createElement("td",null,n.period_amount),m.a.createElement("td",null,Object(d.f)(t.odds)),m.a.createElement("td",null,Object(d.f)(100*n.op1.yoji),"%"),null!=t.profit&&m.a.createElement("td",null,e.htmlNumber(t.profit+n.op1.fee_in/n.number_list.length)),null==t.profit&&m.a.createElement("td",null,"--"),null!=t.profit&&1==t.stat&&m.a.createElement("td",{style:{color:"green"}},"\u8d62"),null!=t.profit&&2===t.stat&&m.a.createElement("td",null,"\u5e73"),null!=t.profit&&0===t.stat&&m.a.createElement("td",{style:{color:"red"}},"\u8f93"),null===t.profit&&m.a.createElement("td",null,"\u672a\u7ed3\u7b97"))}),m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"3",className:"t",style:{color:"red"}},"\u603b\u8ba1"),m.a.createElement("td",{className:"t",style:{color:"red"}},this.htmlNumber(n.total_amount)),m.a.createElement("td",{className:"t"}),m.a.createElement("td",{className:"t"}),0==n.stat&&m.a.createElement("td",{className:"t"},"--"),1==n.stat&&m.a.createElement("td",{className:"t",style:{color:"red"}},this.htmlNumber(this.sum(n.number_list,"profit")+n.op1.fee_in)),m.a.createElement("td",{className:"t"})))))),m.a.createElement("div",{class:"dialog-ft"},m.a.createElement("input",{type:"button",id:"cancel",value:"\u5173\u95ed",class:"btn",onClick:function(){return e.handleClose()}}))))}}]),a}(s.Component);function h(e){!function(e){var t=document.getElementById("react-confirm-alert");t?Object(u.render)(m.a.createElement(p,e),t):(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t),Object(u.render)(m.a.createElement(p,e),t))}(e)}p.defaultProps={width:1100,height:150,order:{},uid:""}},552:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(10),r=a(25),c=a(11),o=a(12),i=a(6),s=a(0),m=a.n(s),u=a(17),d=a(44),f=a(15),p=a(30),h=a(3),E=a(4),b=a(33),g=a(468),y=a(473),v=a(45);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var l=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var N=function(e){Object(c.a)(a,e);var t=_(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).listData=function(){l.props.listCurrentOrder(l.state.play_name,0,9999999)},l.onPage=function(e){for(var t=Object(r.a)(l),a=l.state.pageSize,n=(e-1)*a,c=l.state.total_list,o=new Array,i=n;i<n+a&&i<c.length;i++)o.push(c[i]);t.setState({list:o,pager:{offset:n,size:a,total:c.length}})},l.onPlayNameChange=function(){var e=Object(r.a)(l),t=document.getElementById("playNameSel").value;e.setState({play_name:t},function(){e.listData()})},l.htmlNumber=function(e){return e>=0?Object(h.f)(e):m.a.createElement("font",{color:"red"},Object(h.f)(e))},l.htmlOdds=function(e){return Object(h.f)(e[0].odds_1)},l.showOrderDetail=function(e){Object(y.a)({order:e})},l.sum=function(e,t){var a=0;return e.forEach(function(e){-1!==e.stat&&(a+=e[t])}),a},l.sumCount=function(e){var t=0;return e.forEach(function(e){-1!==e.stat&&(t+=1)}),t},l.onPrint=function(){var e=document.getElementById("print-iframe");if(!e){var t=document.getElementById("dataTable"),a=null;(e=document.createElement("IFRAME")).setAttribute("id","print-iframe"),e.setAttribute("style","position:absolute;width:0px;height:0px;left:-5000px;top:-5000px;"),document.body.appendChild(e),(a=e.contentWindow.document).write('<LINK rel="stylesheet" type="text/css" href="/assets/css/style2.css">'),a.write("<div>"+t.innerHTML+"</div>"),a.close(),e.contentWindow.focus()}e.contentWindow.print(),navigator.userAgent.indexOf("MSIE")>0&&document.body.removeChild(e)},l.toggleSelect=function(){for(var e=document.getElementById("selectall").checked,t=l.state.list,a=(new Date).getTime(),n=0;n<t.length;n++)-1!==t[n].stat&&a-18e5<t[n].created_at&&void 0!==document.getElementById("cb_"+n)&&null!==document.getElementById("cb_"+n)&&(document.getElementById("cb_"+n).checked=e)},l.onCancelList=function(){for(var e="",t="",a=l.state.list,n=0,c=Object(r.a)(l),o=(new Date).getTime(),i=0;i<a.length;i++)-1!==a[i].stat&&o-18e5<a[i].created_at&&void 0!==document.getElementById("cb_"+i)&&null!==document.getElementById("cb_"+i)&&document.getElementById("cb_"+i).checked&&(n>0&&(e+=", ",t+=","),e+=a[i].order_id.substring(5),t+=a[i].order_id,n++);""!==e&&l.setState({cancel_ids:t,cancel_alias:e},function(){Object(v.a)({title:"\u53d6\u6d88\u6ce8\u5355",width:"350",hasCancel:!0,message:'\u786e\u5b9a\u8981\u53d6\u6d88\u9009\u4e2d\u7684\u300c<font color="red">'+c.state.cancel_alias+"</font>\u300d\u6ce8\u5355\u5417\uff1f\u53d6\u6d88\u540e\u5c06\u4e0d\u53ef\u6062\u590d\uff01",onConfirm:function(){c.onSubmitCancel()}})})},l.onSubmitCancel=function(){var e=Object(r.a)(l);e.props.cancelOrder(e.state.cancel_ids,function(){e.listData()},function(){})},l.onShowDetail=function(){document.getElementById("summary").style.display="none",document.getElementById("detail").style.display="block"},l.state={inited:!1,pager:{},list:[],total_list:[],play_name:"",pageSize:50,pageOffset:0,cancel_alias:"",cancel_ids:"",now:(new Date).getTime(),lastes_lottery:{period:"2020001"}},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.listData()}},{key:"componentDidUpdate",value:function(e){if(E.a.isEqual(this.props.list,this.state.total_list)||this.setState({total_list:this.props.list},function(){this.onPage(1)}),!E.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)){var t=this.props.lastes_lottery;this.setState({lastes_lottery:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.pager,l=(t.cancel_alias,t.total_list),r=t.now;return m.a.createElement("div",{className:"main",style:{paddingRight:"35px"}},m.a.createElement("table",{id:"summary",className:"t-ball t-1"},m.a.createElement("thead",null,m.a.createElement("tr",{class:"bg-yellow tc"},m.a.createElement("td",null,"\u5f69\u79cd"),m.a.createElement("td",null,"\u7b14\u6570"),m.a.createElement("td",null,"\u4e0b\u6ce8\u91d1\u989d"))),0===l.length&&m.a.createElement("tbody",{className:"tc"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"3"},"\u6682\u65e0\u4e0b\u6ce8\u8d44\u6599"))),l.length>0&&m.a.createElement("tbody",{className:"tc"},m.a.createElement("tr",{style:{cursor:"pointer"},onClick:this.onShowDetail.bind(this)},m.a.createElement("td",{className:""},"\u6fb3\u95e8\u516d\u5408\u5f69"),m.a.createElement("td",{className:""},this.htmlNumber(this.sumCount(l))),m.a.createElement("td",{className:""},this.htmlNumber(this.sum(l,"total_amount")))),m.a.createElement("tr",null,m.a.createElement("th",{className:""},"\u603b\u8ba1"),m.a.createElement("td",{className:""},this.htmlNumber(this.sumCount(l))),m.a.createElement("td",{className:""},this.htmlNumber(this.sum(l,"total_amount")))))),m.a.createElement("div",{id:"detail",style:{display:"none"}},m.a.createElement("table",{className:"t-ball t-1"},m.a.createElement("thead",null,m.a.createElement("tr",{class:"bg-yellow tc"},m.a.createElement("td",null,"\u6ce8\u5355\u53f7"),m.a.createElement("td",null,"\u65f6\u95f4"),m.a.createElement("td",null,"\u4e0b\u6ce8\u7c7b\u578b"),m.a.createElement("td",null,"\u6ce8\u5355\u660e\u7ec6"),m.a.createElement("td",null,"\u4e0b\u6ce8\u91d1\u989d"),m.a.createElement("td",null,"\u6709\u6548\u91d1\u989d"),m.a.createElement("td",null,"\u9000\u6c34(%)"),m.a.createElement("td",null,"\u8f93\u8d62\u91d1\u989d"),m.a.createElement("td",null,"\u72b6\u6001"),m.a.createElement("td",null,m.a.createElement("label",null,"\u5168\u9009 ",m.a.createElement("input",{type:"checkbox",id:"selectall",onChange:this.toggleSelect.bind(this)}))," ",m.a.createElement("button",{onClick:this.onCancelList.bind(this),style:{backgroundColor:"#f0f0f0",color:"#333",padding:"2px"}},"\u53d6\u6d88")))),m.a.createElement("tbody",{className:"tc"},0===a.length&&m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"10"},"\u6682\u65e0\u76f8\u5173\u6ce8\u5355\u6570\u636e")),a.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",{width:"70"},t.order_id.substring(5)),m.a.createElement("td",{width:"15%"},Object(h.a)(t.created_at,"yyyy-MM-dd hh:mm:ss")),m.a.createElement("td",{width:"70"},"\u6fb3\u95e8\u516d\u5408\u5f69",m.a.createElement("p",{style:{color:"green"}},t.period,"\u671f")),t.number_list.length>1&&m.a.createElement("td",null,m.a.createElement(u.a,{to:"#",onClick:e.showOrderDetail.bind(e,t)},Object(h.n)(t.play_name,t.algorithm_name,t.alias))," @ ",m.a.createElement("font",{color:"red"},e.htmlOdds(t.number_list))),t.number_list.length<=1&&m.a.createElement("td",null,Object(h.n)(t.play_name,t.algorithm_name,t.alias)," @ ",m.a.createElement("font",{color:"red"},e.htmlOdds(t.number_list))),m.a.createElement("td",{width:"70"},e.htmlNumber(t.total_amount)),m.a.createElement("td",{width:"70"},"0"),m.a.createElement("td",{width:"60"},Object(h.f)(100*t.op1.yoji)),m.a.createElement("td",{width:"70"},e.htmlNumber(t.op1.final_profit)),-1===t.stat&&m.a.createElement("td",{width:"40",style:{color:"red"}},t.status),-1!==t.stat&&m.a.createElement("td",{width:"40"},t.status),(-1===t.stat||r-18e5>=t.created_at)&&m.a.createElement("td",{width:"90"},"-- ",m.a.createElement("input",{type:"hidden",id:"cb_"+a})),-1!==t.stat&&r-18e5<t.created_at&&m.a.createElement("td",{width:"90"},m.a.createElement("input",{type:"checkbox",id:"cb_"+a})))}),m.a.createElement("tr",null,m.a.createElement("th",{className:"",colSpan:"4",style:{fontWeight:"bold",textAlign:"right"}},"\u5f53\u9875\u5c0f\u8ba1\uff1a"),m.a.createElement("td",{className:"",style:{fontWeight:"bold"}},this.htmlNumber(this.sum(a,"total_amount"))),m.a.createElement("td",{className:"",style:{fontWeight:"bold"}},"0"),m.a.createElement("td",{className:""}),m.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e.op1}),"final_profit"))),m.a.createElement("td",{className:""}),m.a.createElement("td",{className:""})),m.a.createElement("tr",null,m.a.createElement("th",{className:"",colSpan:"4",style:{fontWeight:"bold",textAlign:"right"}},"\u603b\u8ba1\uff1a"),m.a.createElement("td",{className:"",style:{fontWeight:"bold"}},this.htmlNumber(this.sum(l,"total_amount"))),m.a.createElement("td",{className:"",style:{fontWeight:"bold"}},"0"),m.a.createElement("td",{className:""}),m.a.createElement("td",null,this.htmlNumber(this.sum(l.map(function(e){return e.op1}),"final_profit"))),m.a.createElement("td",{className:""}),m.a.createElement("td",{className:""}))),m.a.createElement("tfoot",{class:"tc"}," ",m.a.createElement("tr",{class:"bg-yellow"}," ",m.a.createElement("td",{colspan:"12"},"\xa0"),"   ")," ")),m.a.createElement("div",{className:"pager-wrap"},m.a.createElement(g.a,{pager:n,onPage:this.onPage.bind(this)}))))}}]),a}(s.Component);t.default=Object(d.g)(Object(p.a)(function(e){var t=e.orders,a=e.heartbeat;return{pager:t.pager,list:t.list,lastes_lottery:a.lastes_lottery,current_lottery:a.current_lottery}},function(e){return Object(f.c)({listCurrentOrder:b.l,cancelOrder:b.a},e)})(N))}}]);