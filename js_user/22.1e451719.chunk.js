(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{465:function(e,t,a){"use strict";var r=a(9),n=a(10),s=a(11),l=a(12),i=a(6),o=a(0),c=a.n(o),u=a(44),m=a(15),b=a(30),_=a(4),h=a(3);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,r=Object(i.a)(e);if(t){var n=Object(i.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(l.a)(this,a)}}var p=0,f=function(e){Object(s.a)(a,e);var t=d(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={current_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},lastes_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},count_down:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){void 0===this.props.lastes_lottery||_.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),void 0===this.props.current_lottery||_.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"componentDidUpdate",value:function(e){_.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),_.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"formatDuration",value:function(e){e=Math.floor(e/1e3);var t=Math.floor(e/60);return t<60?t+"\u5206 "+e%60+"\u79d2":Math.floor(t/60)+"\u65f6 "+(t%=60)+"\u5206 "+e%60+"\u79d2"}},{key:"countDownLottery",value:function(e){var t=this;if(clearInterval(p),0===e.done)if(0==e.status){var a=e.open_time-(new Date).getTime();a>0?t.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+t.formatDuration(a)}):t.setState({count_down:"\u51c6\u5907\u5f00\u76d8"}),p=setInterval(function(){(a=e.open_time-(new Date).getTime())>0?t.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+t.formatDuration(a)}):t.setState({count_down:"\u51c6\u5907\u5f00\u76d8"})},1e3)}else if(1==e.status){var r=e.close_tm_time-(new Date).getTime();r>0?t.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+t.formatDuration(r)}):t.setState({count_down:"\u5373\u5c06\u5c01\u76d8"}),p=setInterval(function(){(r=e.close_tm_time-(new Date).getTime())>0?t.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+t.formatDuration(r)}):t.setState({count_down:"\u5373\u5c06\u5c01\u76d8"})},1e3)}else 2==e.status?t.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u7b49\u5f85\u5f00\u5956"}):3==e.status&&t.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"});else t.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"})}},{key:"render",value:function(){var e=this.state,t=(e.urrent_lottery,e.lastes_lottery),a=e.count_down;return c.a.createElement("div",{class:"bet-drawno"},t.done>=1?c.a.createElement("ul",null,c.a.createElement("li",{className:""},"\u5f00\u5956\uff1a"),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n1)},t.n1),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n2)},t.n2),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n3)},t.n3),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n4)},t.n4),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n5)},t.n5),c.a.createElement("li",{className:"ball "+Object(h.c)(t.n6)},t.n6),c.a.createElement("li",{className:""},"+"),c.a.createElement("li",{className:"ball "+Object(h.c)(t.nt)},t.nt)):c.a.createElement("span",null,a))}}]),a}(o.Component);Object(u.g)(Object(b.a)(function(e){e.nav,e.auth;var t=e.heartbeat;return e.notify,{lastes_lottery:t.lastes_lottery,current_lottery:t.current_lottery}},function(e){return Object(m.c)({},e)})(f))},545:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a(10),s=a(25),l=a(11),i=a(12),o=a(6),c=a(0),u=a.n(c),m=a(17),b=a(44),_=a(15),h=a(30),d=a(3),p=a(4),f=a(33);a(465);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var v=function(e){Object(l.a)(a,e);var t=y(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangePan=function(e){n.onCleanForm(),n.setState({algorithm_name:e,ball_list:n.state.ball_list_a}),n.props.getLiveOdds(e),"\u4e94\u4e0d\u4e2d"===e?n.setState({min_size:5,max_size:8}):"\u516d\u4e0d\u4e2d"===e?n.setState({min_size:6,max_size:9}):"\u4e03\u4e0d\u4e2d"===e?n.setState({min_size:7,max_size:10}):"\u516b\u4e0d\u4e2d"===e?n.setState({min_size:8,max_size:10}):"\u4e5d\u4e0d\u4e2d"===e?n.setState({min_size:9,max_size:11}):"\u5341\u4e0d\u4e2d"===e?n.setState({min_size:10,max_size:12}):"\u5341\u4e00\u4e0d\u4e2d"===e?n.setState({min_size:11,max_size:13}):"\u5341\u4e8c\u4e0d\u4e2d"===e&&n.setState({min_size:12,max_size:14})},n.onChangeMode=function(e){n.setState({mode:e,muti_group:[],muti_rate:[]}),n.onCleanForm()},n.onSelectBall=function(e){if(!n.state.isClosed){var t=n.state.ball_list;if(t[e].selected)delete t[e].selected;else{if("\u590d\u5f0f"===n.state.mode){for(var a=n.state.max_size,r=0;r<t.length;r++)t[r].selected&&a--;if(a<=0)return void alert("\u6700\u591a\u9009\u62e9"+n.state.max_size+"\u4e2a\u53f7\u7801")}t[e].selected=!0}if(n.setState({ball_list:t}),"\u590d\u5f0f"===n.state.mode){for(var s="",l=0;l<t.length;l++)t[l].selected&&(s+=","+t[l].number);document.getElementById("selected_tip").innerHTML=""===s?"\u8bf7\u9009\u62e9\u53f7\u7801":n.state.algorithm_name+" \u590d\u5f0f: ["+s.substring(1)+"]"}else{for(var i=n.state.muti_group,o=n.state.muti_rate,c="",u=0,m=9999999,b=0;b<t.length;b++)t[b].selected&&(c+=","+t[b].number,u++,m>t[b].rate&&(m=t[b].rate));if(u===n.state.min_size&&(n.onCleanForm(!0),i.push(c.substring(1)),o.push(m),n.setState({muti_group:i,muti_rate:o})),0===i.length)document.getElementById("selected_tip").innerHTML="\u8bf7\u9009\u62e9\u53f7\u7801";else{for(var _=n.state.algorithm_name+" \u591a\u7d44: ",h=0;h<i.length;h++)h>0&&(_+=","),_+="["+i[h]+"]";document.getElementById("selected_tip").innerHTML=_}}}},n.renderBallTable3=function(e,t,a){return u.a.createElement("td",{width:"20%",valign:"top"},u.a.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"t-3 tc"},u.a.createElement("thead",null,u.a.createElement("tr",{className:"blue-bg"},u.a.createElement("td",null,"\u53f7\u7801"),u.a.createElement("td",null,"\u8d54\u7387"),u.a.createElement("td",null,"\u52fe\u9009"))),u.a.createElement("tbody",{className:"fn-hover"},e.map(function(e,r){return u.a.createElement("tr",{key:"tr-"+e.number+r,className:void 0!==e.selected?"table-current":"",onClick:n.onSelectBall.bind(Object(s.a)(n),r+t)},u.a.createElement("td",{className:Object(d.c)(e.number)+"-bg"},u.a.createElement("i",{className:"icon_2 b-"+Object(d.c)(e.number),name:"ballNum"},e.number)),u.a.createElement("td",null,u.a.createElement("span",{className:"quickbet sense"}," ",Object(d.f)(e.rate)," ")),u.a.createElement("td",null,u.a.createElement("input",{type:"checkbox",disabled:a,checked:void 0!==e.selected})))}))))},n.onSubmitPreview=function(){var e=parseInt(document.getElementById("play_input").value,10);if(!(isNaN(e)||e<=0))if("\u590d\u5f0f"===n.state.mode){for(var t=new Array,a="",r="",s=0;s<n.state.ball_list.length;s++){var l=n.state.ball_list[s];l.selected&&(t.push(l.number),a+=l.number,r+=Object(d.f)(l.rate),a+=",",r+=";")}t.length>=n.state.min_size?(a=a.substring(0,a.length-1),r=r.substring(0,r.length-1),n.props.playDxbzOrder(n.state.algorithm_name,a,r,t,e)):alert("\u81f3\u5c11\u9700\u8981\u9009\u62e9"+n.state.min_size+"\u4e2a\u53f7\u7801")}else{for(var i=new Array,o=0;o<n.state.muti_group.length;o++){var c=n.state.muti_group[o];i.push({number:c,rate:n.state.muti_rate[o],amount:e})}i.length>0&&n.props.playOrder("\u4e0d\u4e2d",n.state.algorithm_name,i)}},n.onKeyDown=function(e){var t=e||window.event;t&&13==t.keyCode&&n.onSubmitPreview()},n.onCleanForm=function(e){document.getElementById("play_input").value="";for(var t=n.state.ball_list,a=0;a<t.length;a++)delete t[a].selected;n.setState({ball_list:t}),e||n.setState({muti_group:[],muti_rate:[]}),document.getElementById("selected_tip").innerHTML="\u8bf7\u9009\u62e9\u53f7\u7801"},n.state={inited:!1,reset:!1,ball_list_a:[{number:"01",rate:""},{number:"02",rate:""},{number:"03",rate:""},{number:"04",rate:""},{number:"05",rate:""},{number:"06",rate:""},{number:"07",rate:""},{number:"08",rate:""},{number:"09",rate:""},{number:"10",rate:""},{number:"11",rate:""},{number:"12",rate:""},{number:"13",rate:""},{number:"14",rate:""},{number:"15",rate:""},{number:"16",rate:""},{number:"17",rate:""},{number:"18",rate:""},{number:"19",rate:""},{number:"20",rate:""},{number:"21",rate:""},{number:"22",rate:""},{number:"23",rate:""},{number:"24",rate:""},{number:"25",rate:""},{number:"26",rate:""},{number:"27",rate:""},{number:"28",rate:""},{number:"29",rate:""},{number:"30",rate:""},{number:"31",rate:""},{number:"32",rate:""},{number:"33",rate:""},{number:"34",rate:""},{number:"35",rate:""},{number:"36",rate:""},{number:"37",rate:""},{number:"38",rate:""},{number:"39",rate:""},{number:"40",rate:""},{number:"41",rate:""},{number:"42",rate:""},{number:"43",rate:""},{number:"44",rate:""},{number:"45",rate:""},{number:"46",rate:""},{number:"47",rate:""},{number:"48",rate:""},{number:"49",rate:""}],ball_list:[],mode:"\u590d\u5f0f",algorithm_name:"\u4e94\u4e0d\u4e2d",min_size:5,max_size:8,rate_item:{},muti_group:[],muti_rate:[],current_lottery:{status:0},isClosed:!0},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.setState({ball_list:this.state.ball_list_a}),p.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),this.props.getLiveOdds("\u4e94\u4e0d\u4e2d")}},{key:"componentDidUpdate",value:function(e){if(p.a.isEqual(this.props.reset,this.state.reset)||(this.setState({reset:this.props.reset}),this.onCleanForm()),p.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),!p.a.isEqual(this.props.rate_item,this.state.rate_item))if(void 0===this.props.rate_item.rate_list)this.setState({rate_item:this.props.rate_item});else{var t=this.state.ball_list;0===t.length?this.setState({rate_item:this.props.rate_item,ball_list:this.props.rate_item.rate_list}):(this.props.rate_item.rate_list.forEach(function(e,a){t[a].rate=e.rate}),this.setState({rate_item:this.props.rate_item,ball_list:t}))}}},{key:"render",value:function(){var e=this.state,t=e.ball_list,a=e.algorithm_name,r=e.mode,n=(e.min_size,e.max_size,e.isClosed);return u.a.createElement("div",{className:n?"main lotteryClosed":"main"},u.a.createElement("ul",{class:"bet-fns fr"},u.a.createElement("li",{className:"\u590d\u5f0f"===r?"fl active":"fl"},u.a.createElement(m.a,{to:"#",className:"sub-query-type",onClick:this.onChangeMode.bind(this,"\u590d\u5f0f")},"\u590d\u5f0f\u6295\u6ce8")," "),u.a.createElement("li",{className:"\u591a\u7d44"===r?"fl active":"fl"},u.a.createElement(m.a,{to:"#",className:"sub-query-type",onClick:this.onChangeMode.bind(this,"\u591a\u7d44")},"\u591a\u7ec4\u6295\u6ce8")),u.a.createElement("li",{className:"\u5341\u4e8c\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u5341\u4e8c\u4e0d\u4e2d")},"\u5341\u4e8c\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u5341\u4e00\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u5341\u4e00\u4e0d\u4e2d")},"\u5341\u4e00\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u5341\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u5341\u4e0d\u4e2d")},"\u5341\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u4e5d\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e5d\u4e0d\u4e2d")},"\u4e5d\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u516b\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u516b\u4e0d\u4e2d")},"\u516b\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u4e03\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e03\u4e0d\u4e2d")},"\u4e03\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u516d\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u516d\u4e0d\u4e2d")},"\u516d\u4e0d\u4e2d")," "),u.a.createElement("li",{className:"\u4e94\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e94\u4e0d\u4e2d")},"\u4e94\u4e0d\u4e2d")," ")),u.a.createElement("div",{class:"bet-lianma"},u.a.createElement("div",{class:"choose-number-area",id:"selected_tip"},"\u8bf7\u9009\u62e9\u53f7\u7801")),u.a.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"t-ball"},u.a.createElement("tbody",null,u.a.createElement("tr",null,this.renderBallTable3(t.slice(0,10),0,n),this.renderBallTable3(t.slice(10,20),10,n),this.renderBallTable3(t.slice(20,30),20,n),this.renderBallTable3(t.slice(30,40),30,n),this.renderBallTable3(t.slice(40,49),40,n)))),u.a.createElement("div",{class:"bet-btn"},u.a.createElement("span",null,"\u5355\u6ce8\u91d1\u989d\uff1a"),u.a.createElement("input",{type:"text",className:"w60 number",name:"bet_money",id:"play_input",required:"",number:"true",maxlengththousands:"8",onKeyUp:this.onKeyDown.bind(this),disabled:n}),"\xa0\xa0\xa0",u.a.createElement("input",{type:"button",value:"\u4e0b\u6ce8",style:{fontSize:"12px"},className:"sense_inp",onClick:this.onSubmitPreview,disabled:n})," \xa0\xa0",u.a.createElement("input",{type:"button",class:"fn_cancel_bet",value:"\u91cd\u7f6e",style:{fontSize:"12px"},onClick:this.onCleanForm,disabled:n})))}}]),a}(c.Component);t.default=Object(b.g)(Object(h.a)(function(e){var t=e.play,a=e.rate,r=e.heartbeat;return{reset:t.reset,rate_item:a.rate_item,current_lottery:r.current_lottery}},function(e){return Object(_.c)({playDxbzOrder:f.o,playOrder:f.r,getLiveOdds:f.d},e)})(v))}}]);