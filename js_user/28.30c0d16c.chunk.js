(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{465:function(t,e,a){"use strict";var n=a(9),r=a(10),s=a(11),l=a(12),o=a(6),c=a(0),i=a.n(c),u=a(44),m=a(15),p=a(30),_=a(4),h=a(3);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,n=Object(o.a)(t);if(e){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var d=0,b=function(t){Object(s.a)(a,t);var e=y(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).state={current_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},lastes_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},count_down:""},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){void 0===this.props.lastes_lottery||_.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),void 0===this.props.current_lottery||_.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"componentDidUpdate",value:function(t){_.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),_.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"formatDuration",value:function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60);return e<60?e+"\u5206 "+t%60+"\u79d2":Math.floor(e/60)+"\u65f6 "+(e%=60)+"\u5206 "+t%60+"\u79d2"}},{key:"countDownLottery",value:function(t){var e=this;if(clearInterval(d),0===t.done)if(0==t.status){var a=t.open_time-(new Date).getTime();a>0?e.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+e.formatDuration(a)}):e.setState({count_down:"\u51c6\u5907\u5f00\u76d8"}),d=setInterval(function(){(a=t.open_time-(new Date).getTime())>0?e.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+e.formatDuration(a)}):e.setState({count_down:"\u51c6\u5907\u5f00\u76d8"})},1e3)}else if(1==t.status){var n=t.close_tm_time-(new Date).getTime();n>0?e.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+e.formatDuration(n)}):e.setState({count_down:"\u5373\u5c06\u5c01\u76d8"}),d=setInterval(function(){(n=t.close_tm_time-(new Date).getTime())>0?e.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+e.formatDuration(n)}):e.setState({count_down:"\u5373\u5c06\u5c01\u76d8"})},1e3)}else 2==t.status?e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u7b49\u5f85\u5f00\u5956"}):3==t.status&&e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"});else e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"})}},{key:"render",value:function(){var t=this.state,e=(t.urrent_lottery,t.lastes_lottery),a=t.count_down;return i.a.createElement("div",{class:"bet-drawno"},e.done>=1?i.a.createElement("ul",null,i.a.createElement("li",{className:""},"\u5f00\u5956\uff1a"),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n1)},e.n1),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n2)},e.n2),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n3)},e.n3),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n4)},e.n4),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n5)},e.n5),i.a.createElement("li",{className:"ball "+Object(h.c)(e.n6)},e.n6),i.a.createElement("li",{className:""},"+"),i.a.createElement("li",{className:"ball "+Object(h.c)(e.nt)},e.nt)):i.a.createElement("span",null,a))}}]),a}(c.Component);Object(u.g)(Object(p.a)(function(t){t.nav,t.auth;var e=t.heartbeat;return t.notify,{lastes_lottery:e.lastes_lottery,current_lottery:e.current_lottery}},function(t){return Object(m.c)({},t)})(b))},551:function(t,e,a){"use strict";a.r(e);var n=a(9),r=a(10),s=a(11),l=a(12),o=a(6),c=a(0),i=a.n(c),u=a(44),m=a(15),p=a(30),_=a(3),h=a(4),y=a(33);a(465);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,n=Object(o.a)(t);if(e){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var b=function(t){Object(s.a)(a,t);var e=d(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).onSubmitPreview=function(){for(var t=new Array,e=0;e<r.state.ball_list.length;e++){var a=r.state.ball_list[e],n=parseInt(document.getElementById("play_inp_"+a.number).value,10);!isNaN(n)&&n>0&&t.push({number:a.number,rate:a.rate,amount:n})}t.length>0&&r.props.playOrder("\u603b\u8096",r.state.algorithm_name,t)},r.onKeyDown=function(t){var e=t||window.event;e&&13==e.keyCode&&r.onSubmitPreview()},r.onCleanForm=function(){for(var t=0;t<r.state.ball_list.length;t++){var e=r.state.ball_list[t];document.getElementById("play_inp_"+e.number).value=""}},r.onFocusInp=function(t){r.state.pre_on&&(document.getElementById("play_inp_"+t).value=document.getElementById("pre_money").value)},r.state={inited:!1,reset:!1,ball_list_a:[],ball_list:[],algorithm_name:"\u603b\u8096",rate_item:{},sxmap:[],pre_on:!1,current_lottery:{status:0},isClosed:!1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({ball_list:this.state.ball_list_a}),h.a.isEqual(this.props.sxmap,this.state.sxmap)||this.setState({sxmap:this.props.sxmap}),h.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),this.props.getLiveOdds("\u603b\u8096")}},{key:"componentDidUpdate",value:function(t){h.a.isEqual(this.props.sxmap,this.state.sxmap)||this.setState({sxmap:this.props.sxmap}),h.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),h.a.isEqual(this.props.reset,this.state.reset)||(this.setState({reset:this.props.reset}),this.onCleanForm()),h.a.isEqual(this.props.rate_item,this.state.rate_item)||(void 0===this.props.rate_item.rate_list?this.setState({rate_item:this.props.rate_item}):this.setState({rate_item:this.props.rate_item,ball_list:this.props.rate_item.rate_list}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.ball_list,n=(e.algorithm_name,e.sxmap,e.isClosed);return i.a.createElement("div",{className:n?"main lotteryClosed":"main"},i.a.createElement("div",{className:"bet-form"},i.a.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"t-ball",style:{marginTop:"15px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{width:"50%"},i.a.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"t-3 tc"},i.a.createElement("thead",null," ",i.a.createElement("tr",{className:"blue-bg"}," ",i.a.createElement("th",null,"\u53f7\u7801")," ",i.a.createElement("th",null,"\u8d54\u7387")," ",i.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u989d"))," "),i.a.createElement("tbody",{className:"fn-hover"},a.slice(0,4).map(function(e,a){return i.a.createElement("tr",{key:"tr-"+e.number+a,className:"row"},i.a.createElement("td",null,e.number),i.a.createElement("td",{className:""},i.a.createElement("span",{className:"quickbet sense"},Object(_.f)(e.rate))),i.a.createElement("td",{className:""},i.a.createElement("input",{type:"text",disabled:n,id:"play_inp_"+e.number,onKeyUp:t.onKeyDown.bind(t),onFocus:t.onFocusInp.bind(t,e.number),className:"w60 number"})))})))),i.a.createElement("td",{width:"50%",valign:"top"},i.a.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"t-3 tc"},i.a.createElement("thead",null," ",i.a.createElement("tr",{className:"blue-bg"}," ",i.a.createElement("th",null,"\u53f7\u7801")," ",i.a.createElement("th",null,"\u8d54\u7387")," ",i.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u989d"))," "),i.a.createElement("tbody",{className:"fn-hover"},a.slice(4,6).map(function(e,a){return i.a.createElement("tr",{key:"tr-"+e.number+a+6,className:"row"},i.a.createElement("td",null,e.number),i.a.createElement("td",{className:""},i.a.createElement("span",{className:"quickbet sense"},Object(_.f)(e.rate))),i.a.createElement("td",{className:""},i.a.createElement("input",{type:"text",id:"play_inp_"+e.number,disabled:n,onKeyUp:t.onKeyDown.bind(t),onFocus:t.onFocusInp.bind(t,e.number),className:"w60 number"})))}))))))),i.a.createElement("div",{class:"bet-btn"},"  ",i.a.createElement("input",{type:"button",value:"\u4e0b\u6ce8",className:"btn-gray",disabled:n,style:{fontSize:"12px"},onClick:this.onSubmitPreview})," ",i.a.createElement("input",{type:"button",value:"\u91cd\u7f6e",disabled:n,className:"btn-gray fn-reset",style:{fontSize:"12px"},onClick:this.onCleanForm}))))}}]),a}(c.Component);e.default=Object(u.g)(Object(p.a)(function(t){var e=t.play,a=t.rate,n=t.auth,r=t.heartbeat;return{reset:e.reset,rate_item:a.rate_item,sxmap:n.site.sxmap,current_lottery:r.current_lottery}},function(t){return Object(m.c)({playOrder:y.r,getLiveOdds:y.d},t)})(b))}}]);