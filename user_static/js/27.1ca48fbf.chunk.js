(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{465:function(t,e,a){"use strict";var s=a(9),n=a(10),l=a(11),r=a(12),i=a(6),o=a(0),c=a.n(o),u=a(44),m=a(15),h=a(30),p=a(4),_=a(3);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,s=Object(i.a)(t);if(e){var n=Object(i.a)(this).constructor;a=Reflect.construct(s,arguments,n)}else a=s.apply(this,arguments);return Object(r.a)(this,a)}}var f=0,b=function(t){Object(l.a)(a,t);var e=d(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={current_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},lastes_lottery:{close_tm_time:1611063e6,close_zm_time:1611063e6,done:0,lottery_id:"hk_2020001",lottery_type:"hk",luck_time:1611063e6,open_time:16103502e5,period:"2020020",status:0,tm:0,zm:0},count_down:""},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){void 0===this.props.lastes_lottery||p.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),void 0===this.props.current_lottery||p.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"componentDidUpdate",value:function(t){p.a.isEqual(this.props.lastes_lottery,this.state.lastes_lottery)||this.setState({lastes_lottery:this.props.lastes_lottery}),p.a.isEqual(this.props.current_lottery,this.state.current_lottery)||(this.setState({current_lottery:this.props.current_lottery}),this.countDownLottery(this.props.current_lottery))}},{key:"formatDuration",value:function(t){t=Math.floor(t/1e3);var e=Math.floor(t/60);return e<60?e+"\u5206 "+t%60+"\u79d2":Math.floor(e/60)+"\u65f6 "+(e%=60)+"\u5206 "+t%60+"\u79d2"}},{key:"countDownLottery",value:function(t){var e=this;if(clearInterval(f),0===t.done)if(0==t.status){var a=t.open_time-(new Date).getTime();a>0?e.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+e.formatDuration(a)}):e.setState({count_down:"\u51c6\u5907\u5f00\u76d8"}),f=setInterval(function(){(a=t.open_time-(new Date).getTime())>0?e.setState({count_down:"\u8ddd\u79bb\u5f00\u76d8:"+e.formatDuration(a)}):e.setState({count_down:"\u51c6\u5907\u5f00\u76d8"})},1e3)}else if(1==t.status){var s=t.close_tm_time-(new Date).getTime();s>0?e.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+e.formatDuration(s)}):e.setState({count_down:"\u5373\u5c06\u5c01\u76d8"}),f=setInterval(function(){(s=t.close_tm_time-(new Date).getTime())>0?e.setState({count_down:"\u8ddd\u79bb\u5c01\u76d8:"+e.formatDuration(s)}):e.setState({count_down:"\u5373\u5c06\u5c01\u76d8"})},1e3)}else 2==t.status?e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u7b49\u5f85\u5f00\u5956"}):3==t.status&&e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"});else e.setState({count_down:"\u5df2\u5c01\u76d8\uff0c\u5df2\u5f00\u5956"})}},{key:"render",value:function(){var t=this.state,e=(t.urrent_lottery,t.lastes_lottery),a=t.count_down;return c.a.createElement("div",{class:"bet-drawno"},e.done>=1?c.a.createElement("ul",null,c.a.createElement("li",{className:""},"\u5f00\u5956\uff1a"),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n1)},e.n1),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n2)},e.n2),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n3)},e.n3),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n4)},e.n4),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n5)},e.n5),c.a.createElement("li",{className:"ball "+Object(_.c)(e.n6)},e.n6),c.a.createElement("li",{className:""},"+"),c.a.createElement("li",{className:"ball "+Object(_.c)(e.nt)},e.nt)):c.a.createElement("span",null,a))}}]),a}(o.Component);Object(u.g)(Object(h.a)(function(t){t.nav,t.auth;var e=t.heartbeat;return t.notify,{lastes_lottery:e.lastes_lottery,current_lottery:e.current_lottery}},function(t){return Object(m.c)({},t)})(b))},542:function(t,e,a){"use strict";a.r(e);var s=a(9),n=a(10),l=a(25),r=a(11),i=a(12),o=a(6),c=a(0),u=a.n(c),m=a(17),h=a(44),p=a(15),_=a(30),d=a(3),f=a(4),b=a(33);a(465);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,s=Object(o.a)(t);if(e){var n=Object(o.a)(this).constructor;a=Reflect.construct(s,arguments,n)}else a=s.apply(this,arguments);return Object(i.a)(this,a)}}var v=function(t){Object(r.a)(a,t);var e=y(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).onChangePan=function(t){n.onCleanForm(),n.setState({algorithm_name:t,ball_list:n.state.ball_list_a,count:0}),n.props.getLiveOdds(t),"\u4e8c\u5c3e\u8fde\u4e2d"===t||"\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"===t?n.setState({fs_list:[],fs_len:1}):"\u4e09\u5c3e\u8fde\u4e2d"===t||"\u4e09\u5c3e\u8fde\u4e0d\u4e2d"===t?n.setState({fs_list:[],fs_len:2}):"\u56db\u5c3e\u8fde\u4e2d"===t||"\u56db\u5c3e\u8fde\u4e0d\u4e2d"===t?n.setState({fs_list:[],fs_len:3}):n.setState({fs_list:[],fs_len:1})},n.onChangeMode=function(t){n.onCleanForm(),n.setState({mode:t,sp_list:[],fs_list:[]})},n.onSelectBall=function(t){if(!n.state.isClosed){var e=n.state.ball_list,a=n.state.count;if("\u62d6\u5934"===n.state.mode){var s=e[t].number,l=n.state.fs_len,r=n.state.fs_list;if(n.hasNumber(r,s)){for(var i=new Array,o=0;o<r.length;o++)r[o]!==s&&i.push(r[o]);a--,n.setState({fs_list:i,count:a})}else if(r.length<l&&!e[t].selected){if(a>=9)return void alert("\u6700\u591a\u9009\u62e99\u4e2a\u5c3e\u6570");r.push(s),a++,n.setState({fs_list:r,count:a})}else{if(e[t].selected)delete e[t].selected,a--;else{if(a>=9)return void alert("\u6700\u591a\u9009\u62e99\u4e2a\u5c3e\u6570");e[t].selected=!0,a++}n.setState({ball_list:e,count:a})}}else{if(e[t].selected)delete e[t].selected,a--;else{if(a>=9)return void alert("\u6700\u591a\u9009\u62e99\u4e2a\u5c3e\u6570");e[t].selected=!0,a++}n.setState({ball_list:e,count:a})}}},n.onSubmitPreview=function(){var t=parseInt(document.getElementById("play_input").value,10);if(!(isNaN(t)||t<=0)){var e=new Array,a=new Array,s="",l="";if("\u62d6\u5934"===n.state.mode){for(var r=0;r<n.state.fs_list.length;r++)e.push(n.state.fs_list[r]),r>0&&(s+=","),s+=e[r];s+=" [\u62d6] "}for(var i=0;i<n.state.ball_list.length;i++){var o=n.state.ball_list[i];o.selected&&(a.push(o.number),s+=o.number,l+=Object(d.f)(o.rate),s+=",",l+=";")}e.length+a.length<n.state.fs_len+1?alert("\u81f3\u5c11\u9009\u62e9"+(n.state.fs_len+1)+"\u4e2a\u5c3e\u6570"):a.length>0&&(s=s.substring(0,s.length-1),l=l.substring(0,l.length-1),n.props.playWslOrder(n.state.algorithm_name,n.state.mode,s,l,a,t,e))}},n.onKeyDown=function(t){var e=t||window.event;e&&13==e.keyCode&&n.onSubmitPreview()},n.onCleanForm=function(){document.getElementById("play_input").value="";for(var t=n.state.ball_list,e=0;e<t.length;e++)delete t[e].selected;n.setState({ball_list:t,fsnum:"",fs_list:[],sp_list:[],count:0})},n.renderBallTable3=function(t,e,a,s,r){return u.a.createElement("td",{width:"50%",valign:"top"},u.a.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"t-3 tc"},u.a.createElement("thead",null,u.a.createElement("tr",{className:"blue-bg"},u.a.createElement("td",null,"\u5c3e\u6570"),u.a.createElement("td",null,"\u8d54\u7387"),u.a.createElement("td",null,"\u52fe\u9009"),u.a.createElement("td",null,"\u53f7\u7801"))),u.a.createElement("tbody",{className:"fn-hover"},t.map(function(t,e){return u.a.createElement("tr",{key:"tr-"+t.number+e,className:(n.hasNumber(a,t.number)||void 0===t.selected?"":"table-current")+(n.hasNumber(a,t.number)?" active2":""),onClick:n.onSelectBall.bind(Object(l.a)(n),parseInt(t.number.substring(0,1)))},u.a.createElement("td",{className:"sx-bg"},t.number),u.a.createElement("td",null,u.a.createElement("span",{className:"quickbet sense"}," ",Object(d.f)(t.rate)," ")),u.a.createElement("td",null,u.a.createElement("input",{type:"checkbox",disabled:r,checked:!((n.hasNumber(a,t.number)||void 0===t.selected)&&!n.hasNumber(a,t.number))})),u.a.createElement("td",{className:"bold"},Object(d.s)(parseInt(t.number.substring(0,1))).map(function(t){return u.a.createElement("i",{className:"icon_2 b-"+Object(d.c)(t),name:"ballNum"},t)})))}))))},n.getBallNumber=function(t,e){for(var a=new Array,s=0;s<t.length;s++)e?s%2===0&&a.push(t[s]):s%2===1&&a.push(t[s]);return a},n.state={inited:!1,reset:!1,ball_list_a:[],sxmap:[],ball_list:[],mode:"\u590d\u5f0f",fsnum:"",fs_list:[],fs_len:1,algorithm_name:"\u4e8c\u5c3e\u8fde\u4e2d",rate_item:{},current_lottery:{status:0},isClosed:!0,count:0,sp_list:[]},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.setState({ball_list:this.state.ball_list_a}),f.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),this.props.getLiveOdds("\u4e8c\u5c3e\u8fde\u4e2d"),f.a.isEqual(this.props.sxmap,this.state.sxmap)||this.setState({sxmap:this.props.sxmap})}},{key:"componentDidUpdate",value:function(t){if(f.a.isEqual(this.props.sxmap,this.state.sxmap)||this.setState({sxmap:this.props.sxmap}),f.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status}),f.a.isEqual(this.props.reset,this.state.reset)||(this.setState({reset:this.props.reset}),this.onCleanForm()),!f.a.isEqual(this.props.rate_item,this.state.rate_item))if(void 0===this.props.rate_item.rate_list)this.setState({rate_item:this.props.rate_item});else{var e=this.state.ball_list;0===e.length?this.setState({rate_item:this.props.rate_item,ball_list:this.props.rate_item.rate_list}):(this.props.rate_item.rate_list.forEach(function(t,a){e[a].rate=t.rate}),this.setState({rate_item:this.props.rate_item,ball_list:e}))}}},{key:"hasNumber",value:function(t,e){for(var a=0;a<t.length;a++)if(t[a]===e)return!0;return!1}},{key:"render",value:function(){var t=this.state,e=t.ball_list,a=t.algorithm_name,s=t.mode,n=t.fs_list,l=t.sxmap,r=t.isClosed;return u.a.createElement("div",{className:r?"main lotteryClosed":"main"},u.a.createElement("ul",{class:"bet-fns fr"},u.a.createElement("li",{className:"\u590d\u5f0f"===s?"fl active":"fl"},u.a.createElement(m.a,{to:"#",className:"sub-query-type",onClick:this.onChangeMode.bind(this,"\u590d\u5f0f")},"\u590d\u5f0f\u6295\u6ce8")," "),u.a.createElement("li",{className:"\u62d6\u5934"===s?"fl active":"fl"},u.a.createElement(m.a,{to:"#",className:"sub-query-type",onClick:this.onChangeMode.bind(this,"\u62d6\u5934")},"\u62d6\u5934\u6295\u6ce8")),u.a.createElement("li",{className:"\u56db\u5c3e\u8fde\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u56db\u5c3e\u8fde\u4e0d\u4e2d")},"\u56db\u5c3e\u8fde[\u4e0d\u4e2d]")," "),u.a.createElement("li",{className:"\u4e09\u5c3e\u8fde\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e09\u5c3e\u8fde\u4e0d\u4e2d")},"\u4e09\u5c3e\u8fde[\u4e0d\u4e2d]")," "),u.a.createElement("li",{className:"\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e8c\u5c3e\u8fde\u4e0d\u4e2d")},"\u4e8c\u5c3e\u8fde[\u4e0d\u4e2d]")," "),u.a.createElement("li",{className:"\u56db\u5c3e\u8fde\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u56db\u5c3e\u8fde\u4e2d")},"\u56db\u5c3e\u8fde[\u4e2d]")," "),u.a.createElement("li",{className:"\u4e09\u5c3e\u8fde\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e09\u5c3e\u8fde\u4e2d")},"\u4e09\u5c3e\u8fde[\u4e2d]")," "),u.a.createElement("li",{className:"\u4e8c\u5c3e\u8fde\u4e2d"===a?"active":""}," ",u.a.createElement(m.a,{to:"#",onClick:this.onChangePan.bind(this,"\u4e8c\u5c3e\u8fde\u4e2d")},"\u4e8c\u5c3e\u8fde[\u4e2d]")," ")),u.a.createElement("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"t-ball"},u.a.createElement("tbody",null,u.a.createElement("tr",null,this.renderBallTable3(this.getBallNumber(e,!0),0,n,l,r),this.renderBallTable3(this.getBallNumber(e,!1),5,n,l,r)))),u.a.createElement("div",{class:"bet-btn"},u.a.createElement("span",null,"\u5355\u6ce8\u91d1\u989d\uff1a"),u.a.createElement("input",{type:"text",className:"w60 number",name:"bet_money",id:"play_input",required:"",number:"true",onKeyUp:this.onKeyDown.bind(this),maxlengththousands:"8",disabled:r}),"\xa0\xa0\xa0",u.a.createElement("input",{type:"button",value:"\u4e0b\u6ce8",style:{fontSize:"12px"},className:"sense_inp",onClick:this.onSubmitPreview,disabled:r})," \xa0\xa0",u.a.createElement("input",{type:"button",class:"fn_cancel_bet",value:"\u53d6\u6d88",style:{fontSize:"12px"},onClick:this.onCleanForm,disabled:r})))}}]),a}(c.Component);e.default=Object(h.g)(Object(_.a)(function(t){var e=t.play,a=t.rate,s=t.auth,n=t.heartbeat;return{reset:e.reset,rate_item:a.rate_item,current_lottery:n.current_lottery,sxmap:s.site.sxmap}},function(t){return Object(p.c)({playWslOrder:b.t,getLiveOdds:b.d},t)})(v))}}]);