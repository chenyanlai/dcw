(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{444:function(e,t,n){"use strict";function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",function(){return a})},471:function(e,t,n){"use strict";var a=n(9),l=n(10),r=n(12),c=n(13),o=n(6),i=n(0),s=n.n(i);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var l=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var d=function(e){Object(r.a)(n,e);var t=u(n);function n(){var e;Object(a.a)(this,n);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,canSubmit:!0,loading:!1},e.handleWindowClose=function(){e.state.loading||(e.setState({open:!1,canSubmit:!0,loading:!1}),e.props.onCancel&&e.props.onCancel())},e.handleWindowComfirm=function(){e.props.onConfirm&&(e.setState({canSubmit:!1,loading:!0}),e.props.onConfirm())},e}return Object(l.a)(n,[{key:"show",value:function(){this.setState({open:!0,canSubmit:!0,loading:!1})}},{key:"hide",value:function(){this.setState({open:!1,canSubmit:!1,loading:!1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.no_cancel,a=e.cancelLabel,l=e.confirmLabel,r=e.width,c=e.children,o=e.onConfirm,i=this.state,u=i.open,d=i.canSubmit,m=i.loading;return s.a.createElement("div",{className:"modal fade show",style:{backgroundColor:"rgba(0,0,0,0.5)",display:u?"block":"none"}},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:{width:r||"380px","max-width":r||"380px"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",{className:"modal-title",id:"staticBackdropLabel"},t),s.a.createElement("button",{type:"button",className:"close",style:{fontSize:"20px"},onClick:this.handleWindowClose.bind(this)},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},c),void 0!==o&&s.a.createElement("div",{className:"modal-footer"},(void 0===n||!1===n)&&s.a.createElement("button",{onClick:this.handleWindowClose,className:"btn btn-kx"},void 0===a?"\u53d6\u6d88":a),s.a.createElement("button",{onClick:this.handleWindowComfirm,className:"btn",disabled:!d},m&&s.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),void 0===l?"\u786e\u5b9a":l)))))}}]),n}(i.Component);t.a=d},704:function(e,t,n){"use strict";n.r(t);var a=n(444),l=n(9),r=n(10),c=n(29),o=n(12),i=n(13),s=n(6),u=n(0),d=n.n(u),m=n(41),f=n(15),p=n(28),b=n(4),h=n(42),E=(n(5),n(471));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var l=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var v=function(e){Object(o.a)(n,e);var t=y(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).load=function(){var e=Object(c.a)(a);a.props.listNotify(0,50,function(t){e.setState(t)})},a.onSubmit=function(){var e=Object(c.a)(a),t=Object(b.h)("form");console.log(t),a.props.addNotify(t.target,t.content,function(t){e.load()})},a.onDelSubmit=function(){var e=Object(c.a)(a);a.props.delNotify(a.state.del_nid,function(){e.load(),e.refs.delRef.hide()})},a.getTarget=function(e){switch(e){case 0:return"\u6240\u6709\u4eba";case 1:return"\u4ec5\u4f1a\u5458";case 2:return"\u6240\u6709\u4ee3\u7406\u5546";case 20:return"\u4ec5\u4ee3\u7406";case 30:return"\u4ec5\u4ee3\u74062";case 40:return"\u4ec5\u4ee3\u74063";case 50:return"\u4ec5\u4ee3\u74064";case 60:return"\u4ec5\u4ee3\u74065";case 70:return"\u4ec5\u4ee3\u74066"}},a.state={list:[],pager:{}},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.listNotify(0,50,function(t){e.setState(t)})}},{key:"componentDidUpdate",value:function(e){}},{key:"onDel",value:function(e){this.setState({del_nid:e}),this.refs.delRef.show()}},{key:"render",value:function(){var e=this,t=this.state,n=t.list;t.pager;return d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"titlebar"},d.a.createElement("h3",null,"\u516c\u544a\u7ba1\u7406")),d.a.createElement("div",{className:"quick_box"},d.a.createElement("div",{className:"title"},d.a.createElement("h3",null,"\u53d1\u5e03\u516c\u544a")),d.a.createElement("form",{id:"form",name:"form"},d.a.createElement("table",{className:"table t2 table-bordered",style:{width:"100%",display:"inline-table",marginLeft:"0px"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{style:{width:"120px"}},"\u63a5\u6536\u4eba\u7fa4"),d.a.createElement("td",{style:{textAlign:"left",marginLeft:"12px"}},d.a.createElement("select",{name:"target"},d.a.createElement("option",{value:"0"},"\u6240\u6709\u4eba"),d.a.createElement("option",{value:"2"},"\u6240\u6709\u4ee3\u7406\u5546"),d.a.createElement("option",{value:"1"},"\u4ec5\u4f1a\u5458"),d.a.createElement("option",{value:"20"},"\u4ec5\u4ee3\u7406"),d.a.createElement("option",{value:"30"},"\u4ec5\u4ee3\u74062"),d.a.createElement("option",{value:"40"},"\u4ec5\u4ee3\u74063"),d.a.createElement("option",{value:"50"},"\u4ec5\u4ee3\u74064"),d.a.createElement("option",{value:"60"},"\u4ec5\u4ee3\u74065"),d.a.createElement("option",{value:"70"},"\u4ec5\u4ee3\u74066")))),d.a.createElement("tr",null,d.a.createElement("td",{style:{width:"120px"}},"\u516c\u544a\u5185\u5bb9"),d.a.createElement("td",{style:{textAlign:"left",marginLeft:"12px"}},d.a.createElement("textarea",{name:"content",style:{width:"100%"}}))),d.a.createElement("tr",null,d.a.createElement("td",null),d.a.createElement("td",{style:{textAlign:"left",marginLeft:"12px"}},d.a.createElement("button",{className:"btn",type:"button",onClick:this.onSubmit.bind(this)},"\u53d1\u5e03"))))))),d.a.createElement("table",{className:"table t2 table-bordered",style:{width:"100%",display:"inline-table",marginLeft:"0px"}},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"\u5e8f\u53f7"),d.a.createElement("th",null,"\u63a5\u6536\u4eba\u7fa4"),d.a.createElement("th",null,"\u516c\u544a\u5185\u5bb9"),d.a.createElement("th",null,"\u53d1\u5e03\u65e5\u671f"),d.a.createElement("th",null,"\u64cd\u4f5c"))),d.a.createElement("tbody",null,n.map(function(t,n){return d.a.createElement("tr",null,d.a.createElement("td",{style:{width:"50px"}},n+1),d.a.createElement("td",{style:{width:"100px"}},e.getTarget(t.target)),d.a.createElement("td",null,t.content),d.a.createElement("td",{style:{width:"150px"}},Object(b.a)(t.created_at,"yyyy-MM-dd hh:mm")),d.a.createElement("td",null,d.a.createElement("button",{id:"del_btn_"+t.nid,className:"btn btn-kx",onClick:e.onDel.bind(e,t.nid)},"\u522a\u9664")))}),0===n.length&&d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"5"},"\u8fd8\u6ca1\u6709\u516c\u544a")))),d.a.createElement(E.a,{title:"\u5220\u9664\u516c\u544a",ref:"delRef",onConfirm:this.onDelSubmit.bind(this)},"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u516c\u544a\u5417\uff1f"))}}]),n}(u.Component);t.default=Object(m.g)(Object(p.a)(function(e){return Object(a.a)(e),{}},function(e){return Object(f.c)({listNotify:h.R,addNotify:h.c,delNotify:h.m},e)})(v))}}]);