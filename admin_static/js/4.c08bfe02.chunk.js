(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{446:function(e,t,r){(function(e,a){var n;!function(o){var l=t,c=(e&&e.exports,"object"==typeof a&&a);c.global!==c&&c.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new i(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=/[\t\n\f\r ]/g,h={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,a,n,o=e.length%3,l="",c=-1,i=e.length-o;++c<i;)t=e.charCodeAt(c)<<16,r=e.charCodeAt(++c)<<8,a=e.charCodeAt(++c),l+=s.charAt((n=t+r+a)>>18&63)+s.charAt(n>>12&63)+s.charAt(n>>6&63)+s.charAt(63&n);return 2==o?(t=e.charCodeAt(c)<<8,r=e.charCodeAt(++c),l+=s.charAt((n=t+r)>>10)+s.charAt(n>>4&63)+s.charAt(n<<2&63)+"="):1==o&&(n=e.charCodeAt(c),l+=s.charAt(n>>2)+s.charAt(n<<4&63)+"=="),l},decode:function(e){var t=(e=String(e).replace(m,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var r,a,n=0,o="",l=-1;++l<t;)a=s.indexOf(e.charAt(l)),r=n%4?64*r+a:a,n++%4&&(o+=String.fromCharCode(255&r>>(-2*n&6)));return o},version:"0.1.0"};void 0===(n=function(){return h}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(202)(e),r(83))},690:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r(10),o=r(12),l=r(13),c=r(6),i=r(0),u=r.n(i),s=r(21),m=r(41),h=r(15),f=r(28),d=r(4),p=(r(5),r(93)),_=r(42);r(196);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,a=Object(c.a)(e);if(t){var n=Object(c.a)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Object(l.a)(this,r)}}var b=r(446),E=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).gotoNext=function(e,t,r,a){var o=n.state.lottery;"\u624b\u52a8\u98de\u5355"===a?p.a.push({pathname:"/report/transfer/"+b.encode(JSON.stringify({uid:e,s_date:Object(d.a)(o.open_time),s_id:t,s_period:o.period,e_date:Object(d.a)(o.luck_time),e_id:t,e_period:o.period,from:"daily"}))}):1===r||"\u4e0b\u7ea7\u98de\u5355"===a?p.a.push({pathname:"/report/orderlist/"+b.encode(JSON.stringify({uid:e,s_date:Object(d.a)(o.open_time,"yyyy-MM-dd"),s_id:t,s_period:o.period,e_date:Object(d.a)(o.luck_time,"yyyy-MM-dd"),e_id:t,e_period:o.period,from:"daily"}))}):p.a.push({pathname:"/report/daily/"+e})},n.getRoleName=function(e){switch(e){case 1:return"\u4f1a\u5458";case 20:return"\u4ee3\u7406";case 30:return"\u4ee3\u74062";case 40:return"\u4ee3\u74063";case 50:return"\u4ee3\u74064";case 60:return"\u4ee3\u74065";case 70:return"\u4ee3\u74066";case 999:return"\u4ee3\u74067"}},n.getRoleList=function(){for(var e=20,t=new Array;e<n.state.current_role;)t.push(e),70===e?e=999:e+=10;return t},n.getXiajiOP=function(e,t){for(var r=Object(d.g)(t),a=e["op"+r];a.yoji<=0&&r>1;)a=e["op"+(r=Object(d.g)(r))];return 0===a.yoji?e["op"+t]:a},n.getXiajiRole=function(e,t){for(var r=Object(d.g)(t),a=e["op"+r];a.yoji<=0&&r>1;)a=e["op"+(r=Object(d.g)(r))];return 0===a.yoji?t:r},n.sum=function(e,t){var r=0;return e.forEach(function(e){r+=e[t]}),r},n.sumYoji=function(e,t){for(var r=0,a=0;a<e.length;a++){var o=e[a];r+=o["op"+t].amount*(o["op"+t].yoji-n.getXiajiOP(o,t).yoji)/100}return r},n.htmlNumber=function(e){return e>=0?Object(d.e)(e,2):u.a.createElement("font",{color:"red"},Object(d.e)(e,2))},n.sumItem=function(e,t,r){return n.sum(e.map(function(e){return e["op"+t]}),r)},n.state={inited:!1,totalVO:{total_amount:0,member_count:0,total_count:0,op1:{fee_in:0,fee_out:0,amount:0,final_profit:0},op20:{fee_in:0,fee_out:0,amount:0,final_profit:0},op30:{fee_in:0,fee_out:0,amount:0,final_profit:0},op40:{fee_in:0,fee_out:0,amount:0,final_profit:0},op50:{fee_in:0,fee_out:0,amount:0,final_profit:0},op60:{fee_in:0,fee_out:0,amount:0,final_profit:0},op70:{fee_in:0,fee_out:0,amount:0,final_profit:0},op999:{fee_in:0,fee_out:0,amount:0,final_profit:0}},lottery:{period:"--"},current_role:999,child_role:1,list:[],nav_list:[],uid:"",s:"",e:""},n}return Object(n.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.uid;t!==this.state.uid&&(e.setState({uid:t}),this.props.getDailyReport(t,0,function(t){var r=Object(d.a)(t.lottery.open_time,"yyyy-MM-dd"),a=Object(d.a)(t.lottery.luck_time,"yyyy-MM-dd");e.setState({list:t.summary_list,nav_list:t.nav_list,lottery:t.lottery,current_role:t.current_role,s:r,e:a,child_role:Object(d.g)(t.current_role)}),e.sum(t.summary_list)}))}},{key:"componentWillReceiveProps",value:function(){var e=this,t=this.props.match.params.uid;t!==this.state.uid&&(e.setState({uid:t}),this.props.getDailyReport(t,0,function(t){var r=Object(d.a)(t.lottery.open_time,"yyyy-MM-dd"),a=Object(d.a)(t.lottery.luck_time,"yyyy-MM-dd");e.setState({list:t.summary_list,nav_list:t.nav_list,lottery:t.lottery,current_role:t.current_role,s:r,e:a,child_role:Object(d.g)(t.current_role)}),e.sum(t.summary_list)}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.list,a=t.lottery,n=t.current_role,o=t.child_role,l=t.nav_list;return u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"titlebar"},u.a.createElement("h3",null,a.period.substring(4),"\u671f\u7d71\u8a08",l.map(function(t){return u.a.createElement("span",{style:{fontSize:"12px",color:"#999"}}," - ",e.getRoleName(t.role),"[",u.a.createElement(s.a,{to:"/report/daily/"+t.uid},t.username),"]")}))),u.a.createElement("div",{className:"tablelist "},u.a.createElement("table",{className:"table table-bordered table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"\u8d26\u53f7"),u.a.createElement("th",null,"\u540d\u79f0"),u.a.createElement("th",null,"\u603b\u7b14\u6570"),u.a.createElement("th",null,"\u603b\u4e0b\u6ce8"),u.a.createElement("th",null,"\u603b\u6709\u6548\u4e0b\u6ce8"),u.a.createElement("th",null,"\u4f1a\u5458\u7ed3\u679c"),this.getRoleList().map(function(e){return u.a.createElement("td",null,Object(d.i)(e),"\u4ea4\u6536")}),u.a.createElement("th",{className:"hl"},"\u5360\u6210\u8d27\u91cf"),u.a.createElement("th",{className:"hl"},"\u5360\u6210\u8f93\u8d62"),u.a.createElement("th",{className:"hl"},"\u9000\u6c34\u5dee"),u.a.createElement("th",{className:"hl"},Object(d.i)(n),"\u8f93\u8d62"),u.a.createElement("th",{className:"hl"},"\u4e0a\u7f34\u8d27\u91cf"),u.a.createElement("th",null,Object(d.i)(n),"\u4ea4\u6536"))),u.a.createElement("tbody",null,r.map(function(t,r){return u.a.createElement("tr",{className:"fn-over"},u.a.createElement("td",{className:"hl4"},t.role!==n&&u.a.createElement("span",{style:{fontSize:"16px"}},t.user.username),t.role===o&&1!==t.role&&u.a.createElement(s.a,{to:"#",onClick:e.gotoNext.bind(e,t.uid,a.lottery_id,t.role,"\u4e0b\u7ea7\u98de\u5355")},u.a.createElement("span",{style:{color:"red"}},"\u300a\u4e0b\u7ea7\u98de\u5355\u300b")),t.role!==o&&"\u4f1a\u5458"!==t.role_name&&u.a.createElement("span",null,"\u300a",t.role_name,"\u300b")),u.a.createElement("td",{style:{cursor:"pointer"},onClick:e.gotoNext.bind(e,t.uid,a.lottery_id,t.role,t.role_name)},t.user.name),u.a.createElement("td",{style:{cursor:"pointer",color:"red"},onClick:e.gotoNext.bind(e,t.uid,a.lottery_id,t.role,t.role_name)},e.htmlNumber(t.total_count)),u.a.createElement("td",null,e.htmlNumber(t.all_total_amount)),u.a.createElement("td",null,e.htmlNumber(t.total_amount)),u.a.createElement("td",null,e.htmlNumber(t.op1.final_profit)),e.getRoleList().map(function(r){return u.a.createElement("td",null,e.htmlNumber(-1*t["op"+r].pay_out))}),u.a.createElement("td",null,e.htmlNumber(t["op"+n].amount)),u.a.createElement("td",null,2!==a.done?0:e.htmlNumber(-1*(t["op"+n].final_profit-t["op"+n].diff_odds_profit))),u.a.createElement("td",null,e.htmlNumber(t["op"+n].diff_odds_profit)),u.a.createElement("td",{className:"colBg"},e.htmlNumber(2!==a.done?-1*t["op"+n].diff_odds_profit:-1*t["op"+n].final_profit)),u.a.createElement("td",{className:"colBg"},e.htmlNumber(t["op"+n].pay_amout)),u.a.createElement("td",{className:"colBg"},e.htmlNumber(t["op"+n].pay_out)))})),u.a.createElement("tfoot",{className:"tr bold"},u.a.createElement("tr",null,u.a.createElement("th",{className:"hl5"},"\u603b\u8ba1"),u.a.createElement("th",{className:"hl5"}),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r,"total_count"))),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r,"all_total_amount"))),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r,"total_amount"))),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r.map(function(e){return e.op1}),"final_profit"))),this.getRoleList().map(function(t){return u.a.createElement("th",{className:"hl5"},e.htmlNumber(-1*e.sum(r.map(function(e){return e["op"+t]}),"pay_out")))}),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r.map(function(e){return e["op"+n]}),"amount"))),u.a.createElement("th",{className:"hl5"},2!==a.done?0:this.htmlNumber(-1*(this.sumItem(r,n,"final_profit")-this.sumItem(r,n,"diff_odds_profit")))),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sumItem(r,n,"diff_odds_profit"))),u.a.createElement("th",{style:{backgroundColor:"red",color:"#fff"}},Object(d.e)(2!==a.done?-1*this.sumItem(r,n,"diff_odds_profit"):-1*this.sumItem(r,n,"final_profit"),2)),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r.map(function(e){return e["op"+n]}),"pay_amout"))),u.a.createElement("th",{className:"hl5"},this.htmlNumber(this.sum(r.map(function(e){return e["op"+n]}),"pay_out"))))))))}}]),r}(i.Component);t.default=Object(m.g)(Object(f.a)(function(){return{}},function(e){return Object(h.c)({getDailyReport:_.r},e)})(E))}}]);