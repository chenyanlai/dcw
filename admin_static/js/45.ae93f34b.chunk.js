(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{446:function(e,t,r){(function(e,a){var n;!function(o){var l=t,c=(e&&e.exports,"object"==typeof a&&a);c.global!==c&&c.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new i(e)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,m={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,a,n,o=e.length%3,l="",c=-1,i=e.length-o;++c<i;)t=e.charCodeAt(c)<<16,r=e.charCodeAt(++c)<<8,a=e.charCodeAt(++c),l+=u.charAt((n=t+r+a)>>18&63)+u.charAt(n>>12&63)+u.charAt(n>>6&63)+u.charAt(63&n);return 2==o?(t=e.charCodeAt(c)<<8,r=e.charCodeAt(++c),l+=u.charAt((n=t+r)>>10)+u.charAt(n>>4&63)+u.charAt(n<<2&63)+"="):1==o&&(n=e.charCodeAt(c),l+=u.charAt(n>>2)+u.charAt(n<<4&63)+"=="),l},decode:function(e){var t=(e=String(e).replace(d,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var r,a,n=0,o="",l=-1;++l<t;)a=u.indexOf(e.charAt(l)),r=n%4?64*r+a:a,n++%4&&(o+=String.fromCharCode(255&r>>(-2*n&6)));return o},version:"0.1.0"};void 0===(n=function(){return m}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(202)(e),r(83))},694:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r(10),o=r(29),l=r(12),c=r(13),i=r(6),s=r(0),u=r.n(s),d=r(21),m=r(41),f=r(15),h=r(28),p=r(4),_=(r(5),r(93)),b=r(42);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,a=Object(i.a)(e);if(t){var n=Object(i.a)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Object(c.a)(this,r)}}var E=r(446),v=function(e){Object(l.a)(r,e);var t=g(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).goBack=function(){_.a.goBack()},n.htmlNumber=function(e){return e>=0?Object(p.e)(e,2):u.a.createElement("font",{color:"red"},Object(p.e)(e,2))},n.sum=function(e,t){var r=0;return e.forEach(function(e){r+=e[t]}),r},n.gotoNav=function(e){var t=n.state.model;_.a.push({pathname:"/report/"+t.from+"/"+E.encode(JSON.stringify({uid:e,s_date:t.s_date,s_id:t.s_id,s_period:t.s_period,e_date:t.e_date,e_id:t.e_id,e_period:t.e_period}))})},n.gotoMember=function(e,t){var r=n.state.model;_.a.push({pathname:"/report/orderlist/"+E.encode(JSON.stringify({uid:e,s_date:r.s_date,s_id:r.s_id,s_period:r.s_period,e_date:r.e_date,e_id:r.e_id,e_period:r.e_period,from:r.from,lottery_id:t}))})},n.getTrData=function(e,t){return u.a.createElement("tr",null,u.a.createElement("td",null,t+1),u.a.createElement("td",null,u.a.createElement(d.a,{to:"#",onClick:n.gotoMember.bind(Object(o.a)(n),e.uid,e.lottery_id)},e.period.substring(2))),u.a.createElement("td",null,u.a.createElement(d.a,{to:"#",onClick:n.gotoMember.bind(Object(o.a)(n),e.uid,e.lottery_id)},Object(p.a)(e.luck_time,"yyyy-MM-dd"))),u.a.createElement("td",null,Object(p.e)(e.total_count)),u.a.createElement("td",null,Object(p.e)(e.total_amount)),u.a.createElement("td",null,n.htmlNumber(e.op1.final_profit)))},n.state={inited:!1,totalVO:{total_amount:0,total_yoji:0,total_profit:0,total_final_profit:0},current_role:window.role,child_role:20,list:[],pager:{offset:0,size:0,total:0},nav_list:[],model:{uid:"",s_date:"",s_id:"",s_period:"",e_date:"",e_id:"",e_period:"",from:"agent"}},n}return Object(n.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.model;try{var r=JSON.parse(E.decode(t));r.uid!=e.state.model.uid?(console.log(r),e.setState({model:r},function(){e.props.getReportByLottery(r.uid,r.s_id,r.e_id,function(t){e.setState({list:t.summary_list,nav_list:t.nav_list,current_role:t.current_role,child_role:Object(p.g)(t.current_role)})})})):console.log(r.uid+" == "+e.state.model.uid)}catch(a){console.log(a),alert(a),_.a.goBack()}}},{key:"render",value:function(){var e=this,t=this.state,r=t.list,a=t.nav_list,n=t.model;return u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"titlebar"},u.a.createElement("h3",{style:{left:"70px"}},"\u8f93\u8d62\u62a5\u8868",a.map(function(t){return n.uid===t.uid?u.a.createElement("span",{style:{fontSize:"12px",color:"#999"}}," - ",Object(p.i)(t.role),"[",t.username,"]"):u.a.createElement("span",{style:{fontSize:"12px"}}," - ",Object(p.i)(t.role),"[",u.a.createElement(d.a,{to:"#",onClick:e.gotoNav.bind(e,t.uid),style:{fontSize:"12px"}},t.username),"]")}),"\xa0\xa0",u.a.createElement("span",{style:{fontSize:"12px",color:"#666"}},n.s_period.substring(4),"\u671f(",n.s_date,") - ",n.e_period.substring(4),"\u671f(",n.e_date,")  ")),u.a.createElement("button",{className:"btn",style:{marginLeft:"6px"},onClick:this.goBack.bind(this)},"\u8fd4\u56de")),u.a.createElement("div",{className:"tablelist "},u.a.createElement("table",{className:"table table-bordered table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",{className:"bg1"},u.a.createElement("th",null,"\u5e8f\u53f7"),u.a.createElement("th",null,"\u671f\u6570"),u.a.createElement("th",null,"\u65e5\u671f"),u.a.createElement("th",null,"\u6ce8\u6570"),u.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u989d"),u.a.createElement("th",{style:{color:"red"}},"\u4f1a\u5458\u76c8\u4e8f"))),u.a.createElement("tbody",{className:"tr fn-hover"},r.map(function(t,r){return e.getTrData(t,r)})),u.a.createElement("tfoot",{className:"tr bold"},u.a.createElement("tr",null,u.a.createElement("td",null),u.a.createElement("td",null),u.a.createElement("td",null,"\u603b\u8ba1"),u.a.createElement("td",null,this.htmlNumber(this.sum(r,"total_count"))),u.a.createElement("td",null,this.htmlNumber(this.sum(r,"total_amount"))),u.a.createElement("td",null,this.htmlNumber(this.sum(r.map(function(e){return e.op1}),"final_profit"))))))))}}]),r}(s.Component);t.default=Object(m.g)(Object(h.a)(function(e){return{loginer:e.auth.user}},function(e){return Object(f.c)({getReportByLottery:b.D},e)})(v))}}]);