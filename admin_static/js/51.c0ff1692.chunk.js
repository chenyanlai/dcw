(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{711:function(e,t,n){"use strict";n.r(t);var a=n(9),l=n(10),r=n(12),i=n(13),c=n(6),s=n(0),u=n.n(s),o=n(41),m=n(15),d=n(28),p=n(4),E=n(42),g=n(5);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var b=function(e){Object(r.a)(n,e);var t=f(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).state={admin:{list:[]},group:{list:[{gid:"super",name:"\u5168\u90e8\u6b0a\u9650",pms:[]}]}},l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.listGroup(),this.props.listAdmin()}},{key:"componentDidUpdate",value:function(e){g.a.isEqual(this.props.group,this.state.group)||this.setState({group:this.props.group}),g.a.isEqual(this.props.admin,this.state.admin)||this.setState({admin:this.props.admin})}},{key:"onSubmit",value:function(){var e=document.getElementById("username").value,t=document.getElementById("password").value,n=document.getElementById("gid").value;""!==e&&""!==t&&(Object(p.p)(document.getElementById("submitBtn")),this.props.addAdmin({username:e,password:t,gid:n},function(){Object(p.j)(document.getElementById("submitBtn")),document.getElementById("username").value="",document.getElementById("password").value=""}))}},{key:"onDel",value:function(e){this.props.delAdmin(e)}},{key:"onUpdate",value:function(e){var t=document.getElementById("password-"+e).value,n=document.getElementById("gid-"+e).value;Object(p.p)(document.getElementById("edit_btn_"+e)),this.props.updateAdmin({username:e,password:t,gid:n},function(){Object(p.j)(document.getElementById("edit_btn_"+e)),document.getElementById("password-"+e).value=""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.group,a=t.admin;return u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"titlebar"},u.a.createElement("h3",null,"\u7ba1\u7406\u54e1\u8a2d\u5b9a")),u.a.createElement("table",{className:"table t2 table-bordered",style:{width:"100%",display:"inline-table",marginLeft:"0px"}},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"\u5728\u7dda"),u.a.createElement("th",null,"\u5e33\u865f\u540d\u7a31"),u.a.createElement("th",null,"\u5bc6\u78bc"),u.a.createElement("th",null,"\u6b0a\u9650"),u.a.createElement("th",null,"\u64cd\u4f5c"))),u.a.createElement("tbody",null,a.list.map(function(t){return u.a.createElement("tr",null,u.a.createElement("td",null,"--"),u.a.createElement("td",null,t.username),u.a.createElement("td",null,u.a.createElement("input",{id:"password-"+t.username,className:"form-control form-control-lg",type:"input",placeholder:"\u5bc6\u78bc"})),u.a.createElement("td",null,u.a.createElement("select",{id:"gid-"+t.username,className:"custom-select custom-select-lg form-control"},n.list.map(function(e,n){return u.a.createElement("option",{key:"list-cb-"+e.gid+"_"+n,value:e.gid,selected:t.gid===e.gid},e.name)}))),u.a.createElement("td",{style:{width:"200px"}},u.a.createElement("button",{id:"edit_btn_"+t.username,className:"btn",onClick:e.onUpdate.bind(e,t.username)},"\u5132\u5b58\u4fee\u6539"),"\xa0\xa0",u.a.createElement("button",{id:"del_btn_"+t.username,className:"btn btn-kx",onClick:e.onDel.bind(e,t.username)},"\u522a\u9664")))}),0===a.list.length&&u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"5"},"\u9084\u6c92\u6709\u7ba1\u7406\u54e1")))),u.a.createElement("div",{className:"quick_box"},u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"\u65b0\u589e\u7ba1\u7406\u54e1")),u.a.createElement("div",{className:"tools",style:{marginTop:"0px"}},u.a.createElement("input",{id:"username",placeholder:"\u5e33\u865f",className:"form-control form-control-lg",type:"input",style:{width:"120px",display:"inline"}}),u.a.createElement("input",{id:"password",placeholder:"\u5bc6\u78bc",className:"form-control form-control-lg",type:"input",style:{width:"120px",display:"inline",marginLeft:"10px"}}),u.a.createElement("select",{id:"gid",className:"custom-select custom-select-lg",style:{width:"120px",marginLeft:"10px"}},n.list.map(function(e,t){return u.a.createElement("option",{key:t,value:e.gid},e.name)})),u.a.createElement("button",{id:"submitBtn",onClick:this.onSubmit.bind(this),className:"btn",style:{marginLeft:"20px"}},"\u78ba\u8a8d"))))}}]),n}(s.Component);t.default=Object(o.g)(Object(d.a)(function(e){return{group:e.group,admin:e.admin}},function(e){return Object(m.c)({listGroup:E.P,listAdmin:E.K,addAdmin:E.a,updateAdmin:E.xb,delAdmin:E.k},e)})(b))}}]);