(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{444:function(e,t,a){"use strict";function l(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",function(){return l})},446:function(e,t,a){(function(e,l){var n;!function(r){var c=t,o=(e&&e.exports,"object"==typeof l&&l);o.global!==o&&o.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new i(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,a,l,n,r=e.length%3,c="",o=-1,i=e.length-r;++o<i;)t=e.charCodeAt(o)<<16,a=e.charCodeAt(++o)<<8,l=e.charCodeAt(++o),c+=s.charAt((n=t+a+l)>>18&63)+s.charAt(n>>12&63)+s.charAt(n>>6&63)+s.charAt(63&n);return 2==r?(t=e.charCodeAt(o)<<8,a=e.charCodeAt(++o),c+=s.charAt((n=t+a)>>10)+s.charAt(n>>4&63)+s.charAt(n<<2&63)+"="):1==r&&(n=e.charCodeAt(o),c+=s.charAt(n>>2)+s.charAt(n<<4&63)+"=="),c},decode:function(e){var t=(e=String(e).replace(m,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var a,l,n=0,r="",c=-1;++c<t;)l=s.indexOf(e.charAt(c)),a=n%4?64*a+l:l,n++%4&&(r+=String.fromCharCode(255&a>>(-2*n&6)));return r},version:"0.1.0"};void 0===(n=function(){return d}.call(t,a,t,e))||(e.exports=n)}()}).call(this,a(202)(e),a(83))},700:function(e,t,a){"use strict";a.r(t);var l=a(444),n=a(9),r=a(10),c=a(29),o=a(12),i=a(13),u=a(6),s=a(0),m=a.n(s),d=a(21),h=a(41),E=a(15),p=a(28),f=a(4),b=(a(5),a(93)),v=a(42);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,l=Object(u.a)(e);if(t){var n=Object(u.a)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return Object(i.a)(this,a)}}var _=a(446),g=function(e){Object(o.a)(a,e);var t=y(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).onMode=function(e){l.setState({mode:e,detail_idx:-1},function(){this.parseData(this,this.state.list)})},l.onChangeName=function(){var e=Object(c.a)(l),t=document.getElementById("playNameSel").value;l.setState({play_name:t}),l.props.listOrder(l.state.model.uid,"",l.state.model.s_id,l.state.model.e_id,0,l.state.pageSize,function(t){e.setState({list:t.list,detail_idx:-1}),e.parseData(e,t.list)},t)},l.parseData=function(e,t){if(1===e.state.mode){var a={};t.forEach(function(t){var l=t.algorithm_name+"-"+t.number_list[0].number;if(void 0===a[l])a[l]={name:l,count:1,amount:t.total_amount,fee:t["op"+e.state.current_role].fee_in,list:[]},a[l].list.push(t);else{var n=a[l];n.list.push(t),a[l]={name:l,count:n.count+1,amount:n.amount+t.total_amount,fee:n.fee+t["op"+e.state.current_role].fee_in,list:n.list}}});var l=new Array;for(var n in a)l.push(a[n]);e.setState({detail_list:l})}},l.showDetail=function(e){l.setState({detail_idx:e})},l.onPage=function(e){var t=Object(c.a)(l),a=(e-1)*l.state.pageSize;l.props.listOrder(l.state.model.uid,"",l.state.model.s_id,l.state.model.e_id,a,l.state.pageSize,function(e){t.setState({list:e.list,pager:e.pager})})},l.getFirstOP=function(e){for(var t=1,a=e["op"+t];a.yoji<=0;){if(1===t)t=20;else{if(70===t)break;t+=10}a=e["op"+t]}return a},l.getFirstRole=function(e){for(var t=1,a=e["op"+t];a.yoji<=0;){if(1===t)t=20;else{if(70===t)break;t+=10}a=e["op"+t]}return t},l.getXiajiOP=function(e,t){for(var a=Object(f.g)(t),l=e["op"+a];l.yoji<=0&&a>1;)l=e["op"+(a=Object(f.g)(a))];return 0===l.yoji?e["op"+t]:l},l.getXiajiRole=function(e,t){for(var a=Object(f.g)(t),l=e["op"+a];l.yoji<=0&&a>1;)l=e["op"+(a=Object(f.g)(a))];return 0===l.yoji?t:a},l.sumYoji=function(e,t){for(var a=0,n=0;n<e.length;n++){var r=e[n];a+=r["op"+t].amount*l.getXiajiOP(r,t).yoji/100}return-1*a},l.goBack=function(){-1!==l.state.detail_idx?l.setState({detail_idx:-1}):b.a.goBack()},l.htmlNumber=function(e,t){return void 0!==t&&null!==t||(t=0),e>=0?m.a.createElement("font",{color:"green"},Object(f.e)(e,t)):m.a.createElement("font",{color:"red"},Object(f.e)(e,t))},l.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},l.htmlOdds=function(e){if(null===e[0].odds_str)return m.a.createElement("div",null,Object(f.e)(e[0].odds));if(e.length>1){var t=new Array,a=new Array,l={},n={};e.forEach(function(e){var r;r=-1!==e.number.indexOf(",")?e.number.split(","):e.number.split("-");var c=e.odds_str;if(-1!==c.indexOf(";")){var o=c.split(";");o[0].split("/").forEach(function(e,a){void 0===l[r[a]]&&""!==e&&(l[r[a]]="",t.push(e))}),o[1].split("/").forEach(function(e,t){void 0===n[r[t]]&&""!==e&&(n[r[t]]="ues",a.push(e))})}else{c.split("/").forEach(function(e,a){void 0===l[r[a]]&&""!==e&&(l[r[a]]="",t.push(e))})}});var r="";t.forEach(function(e,t){t>0&&(r+="/"),r+=Object(f.e)(e,3)+""});var c="";return a.forEach(function(e,t){t>0&&(c+="/"),c+=Object(f.e)(e,3)+""}),""===c?r:m.a.createElement("div",null,r,m.a.createElement("br",null),c)}return m.a.createElement("div",null,e[0].odds_str)},l.state={inited:!1,pager:{},list:[],nav_list:[],totalVO:{total_amount:0,total_yoji:0,total_profit:0,total_final_profit:0},pageSize:5e5,pageOffset:0,current_role:window.role,play_name:"",model:{uid:"",s_date:"",s_id:"",s_period:"",e_date:"",e_id:"",e_period:"",lottery_id:""},mode:0,detail_idx:-1,detail_list:[]},l}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.model,l=t.play_name;void 0!==l&&null!==l&&"all"!==l||(l="");var n=JSON.parse(_.decode(a));console.log(n),e.setState({model:n,play_name:l,mode:""===l?0:1},function(){this.props.listOrder(n.uid,"",n.s_id,n.e_id,0,this.state.pageSize,function(t){e.setState({list:t.list,detail_idx:-1}),e.parseData(e,t.list)},l)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,l=t.current_role,n=t.mode,r=t.detail_idx,c=t.detail_list,o=t.play_name;return m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"titlebar"},m.a.createElement("h3",{style:{left:"70px"}},"\u51fa\u8d27\u660e\u7ec6"),m.a.createElement("button",{className:"btn",style:{marginLeft:"6px"},onClick:this.goBack.bind(this)},"\u8fd4\u56de"),m.a.createElement("div",{style:{float:"right",display:"inline",position:"relative",margin:"0px"}},m.a.createElement("div",{className:"fun",align:"center"},m.a.createElement("span",null," ",m.a.createElement("label",null,m.a.createElement("input",{type:"radio",id:"sellQryType",name:"sellQryType",class:"sellQryType",value:"0",defaultChecked:0===n,onClick:this.onMode.bind(this,0)}),"\u65f6\u95f4"),"\xa0\xa0",m.a.createElement("label",null,m.a.createElement("input",{type:"radio",id:"sellQryType",name:"sellQryType",class:"sellQryType",value:"1",defaultChecked:1===n,onClick:this.onMode.bind(this,1)}),"\u6295\u6ce8\u9009\u9879"),m.a.createElement("select",{id:"playNameSel",onChange:this.onChangeName.bind(this)},m.a.createElement("option",{value:"",selected:""===o},"\u5168\u90e8"),m.a.createElement("option",{value:"\u7279\u7801",selected:"\u7279\u7801"===o},"\u7279\u7801"),m.a.createElement("option",{value:"\u6b63\u7801",selected:"\u6b63\u7801"===o},"\u6b63\u7801"),m.a.createElement("option",{value:"\u6b63\u7279\u7801",selected:"\u6b63\u7279\u7801"===o},"\u6b63\u7279\u7801"),m.a.createElement("option",{value:"\u8fde\u7801",selected:"\u8fde\u7801"===o},"\u8fde\u7801"),m.a.createElement("option",{value:"\u8fc7\u5173",selected:"\u8fc7\u5173"===o},"\u8fc7\u5173"),m.a.createElement("option",{value:"\u751f\u8096",selected:"\u751f\u8096"===o},"\u751f\u8096"),m.a.createElement("option",{value:"\u516d\u8096",selected:"\u516d\u8096"===o},"\u516d\u8096"),m.a.createElement("option",{value:"\u5c3e\u6570",selected:"\u5c3e\u6570"===o},"\u5c3e\u6570"),m.a.createElement("option",{value:"\u534a\u6ce2",selected:"\u534a\u6ce2"===o},"\u534a\u6ce2"),m.a.createElement("option",{value:"\u7279\u8096",selected:"\u7279\u8096"===o},"\u7279\u8096"),m.a.createElement("option",{value:"\u751f\u8096\u8fde",selected:"\u751f\u8096\u8fde"===o},"\u751f\u8096\u8fde"),m.a.createElement("option",{value:"\u5c3e\u6570\u8fde",selected:"\u5c3e\u6570\u8fde"===o},"\u5c3e\u6570\u8fde"),m.a.createElement("option",{value:"\u4e0d\u4e2d",selected:"\u4e0d\u4e2d"===o},"\u4e0d\u4e2d"),m.a.createElement("option",{value:"\u591a\u9009\u4e2d\u4e00",selected:"\u591a\u9009\u4e2d\u4e00"===o},"\u591a\u9009\u4e2d\u4e00"),m.a.createElement("option",{value:"\u7279\u5e73\u4e2d",selected:"\u7279\u5e73\u4e2d"===o},"\u7279\u5e73\u4e2d"),m.a.createElement("option",{value:"\u5408\u8096",selected:"\u5408\u8096"===o},"\u5408\u8096"),m.a.createElement("option",{value:"\u5176\u4ed6",selected:"\u5176\u4ed6"===o},"\u5176\u4ed6")))))),m.a.createElement("div",{className:"tablelist "},0===n&&m.a.createElement("table",{className:"table table-bordered table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",{className:"bg1"},m.a.createElement("th",null,"\u6ce8\u5355ID"),m.a.createElement("th",null,"\u4e0b\u6ce8\u79cd\u7c7b"),m.a.createElement("th",null,"\u6295\u6ce8\u9009\u9879"),m.a.createElement("th",null,"\u65e5\u671f/\u65f6\u95f4"),m.a.createElement("th",null,"\u64cd\u4f5c\u5458"),m.a.createElement("th",null,"\u98de\u5355\u91d1\u989d"),m.a.createElement("th",null,"\u76d8\u53e3"),m.a.createElement("th",null,"\u8ce0\u7387"),m.a.createElement("th",null,"\u9000\u6c34"),m.a.createElement("th",null,"\u603b\u8ba1"),m.a.createElement("th",null,"\u4e0b\u6ce8\u72b6\u51b5"))),m.a.createElement("tbody",{className:"tc fn-hover"},a.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",null,t.order_id.substring(5)),m.a.createElement("td",null,"\u4e0a\u4e0b\u7ea7\u98de\u5355"),m.a.createElement("td",null,t.algorithm_name," ",t.alias),m.a.createElement("td",{width:"180"},Object(f.a)(t.created_at,"yyyy-MM-dd hh:mm:ss")),m.a.createElement("td",null,t.user.name,"(\u98de\u5355)"),m.a.createElement("td",null,e.htmlNumber(t.total_amount)),m.a.createElement("td",null,t.pan),m.a.createElement("td",null,e.htmlOdds(t.number_list)),m.a.createElement("td",null,Object(f.e)(e.getXiajiOP(t,l).yoji,2),"%"),m.a.createElement("td",null,e.htmlNumber(t["op"+l].final_profit,3)),m.a.createElement("td",null,t.status))}),0===a.length&&m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"11"},"\u6682\u65e0\u6570\u636e\uff01"))),m.a.createElement("tfoot",{className:"tc bold"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"5"},"\u603b\u8ba1"),m.a.createElement("td",null,this.htmlNumber(this.sum(a,"total_amount"),0)),m.a.createElement("td",{colSpan:"3"}),m.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+l]}),"final_profit"),0)),m.a.createElement("td",null)))),1===n&&-1===r&&m.a.createElement("table",{className:"table table-bordered table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",{className:"bg1"},m.a.createElement("th",null,"\u5e8f\u53f7"),m.a.createElement("th",null,"\u6295\u6ce8\u9009\u9879"),m.a.createElement("th",null,"\u6ce8\u6570"),m.a.createElement("th",null,"\u98de\u5355\u91d1\u989d"),m.a.createElement("th",null,"\u4f63\u91d1"))),m.a.createElement("tbody",{className:"tc fn-hover"},c.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,m.a.createElement(d.a,{to:"#",onClick:e.showDetail.bind(e,a)},t.name)),m.a.createElement("td",null,t.count),m.a.createElement("td",null,e.htmlNumber(t.amount)),m.a.createElement("td",null,e.htmlNumber(t.fee,3)))}),0===c.length&&m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"11"},"\u6682\u65e0\u6570\u636e\uff01"))),m.a.createElement("tfoot",{className:"tc bold"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"2"},"\u603b\u8ba1"),m.a.createElement("td",null,this.htmlNumber(this.sum(c,"count"),0)),m.a.createElement("td",null,this.htmlNumber(this.sum(c,"amount"),0)),m.a.createElement("td",null,this.htmlNumber(this.sum(c,"fee"),0))))),1===n&&-1!==r&&m.a.createElement("table",{className:"table table-bordered table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",{className:"bg1"},m.a.createElement("th",null,"\u6ce8\u5355ID"),m.a.createElement("th",null,"\u4e0b\u6ce8\u79cd\u7c7b"),m.a.createElement("th",null,"\u6295\u6ce8\u9009\u9879"),m.a.createElement("th",null,"\u65e5\u671f/\u65f6\u95f4"),m.a.createElement("th",null,"\u64cd\u4f5c\u5458"),m.a.createElement("th",null,"\u98de\u5355\u91d1\u989d"),m.a.createElement("th",null,"\u76d8\u53e3"),m.a.createElement("th",null,"\u8ce0\u7387"),m.a.createElement("th",null,"\u9000\u6c34"),m.a.createElement("th",null,"\u603b\u8ba1"),m.a.createElement("th",null,"\u4e0b\u6ce8\u72b6\u51b5"))),m.a.createElement("tbody",{className:"tc fn-hover"},c[r].list.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",null,t.order_id.substring(5)),m.a.createElement("td",null,"\u4e0a\u4e0b\u7ea7\u98de\u5355"),m.a.createElement("td",null,t.algorithm_name," ",t.alias),m.a.createElement("td",{width:"180"},Object(f.a)(t.created_at,"yyyy-MM-dd hh:mm:ss")),m.a.createElement("td",null,t.user.name,"(\u98de\u5355)"),m.a.createElement("td",null,e.htmlNumber(t.total_amount)),m.a.createElement("td",null,t.pan),m.a.createElement("td",null,e.htmlOdds(t.number_list)),m.a.createElement("td",null,Object(f.e)(e.getXiajiOP(t,l).yoji,2),"%"),m.a.createElement("td",null,e.htmlNumber(t["op"+l].final_profit,3)),m.a.createElement("td",null,t.status))})),m.a.createElement("tfoot",{className:"tc bold"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"5"},"\u603b\u8ba1"),m.a.createElement("td",null,this.htmlNumber(this.sum(c[r].list,"total_amount"),0)),m.a.createElement("td",{colSpan:"3"}),m.a.createElement("td",null,this.htmlNumber(this.sum(c[r].list.map(function(e){return e["op"+l]}),"final_profit"),0)),m.a.createElement("td",null))))))}}]),a}(s.Component);t.default=Object(h.g)(Object(p.a)(function(e){return Object(l.a)(e),{}},function(e){return Object(E.c)({listOrder:v.V},e)})(g))}}]);