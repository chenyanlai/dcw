(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{445:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(9),l=a(10),r=a(29),o=a(12),i=a(13),s=a(6),c=a(0),u=a.n(c),p=a(148);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var l=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var d=function(e){Object(o.a)(a,e);var t=m(a);function a(e,l){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleConfirm=function(){o.props.onConfirm&&o.props.onConfirm(Object(r.a)(o)),o.props.syn?o.setState({comfirmLabel:"\u8bf7\u7a0d\u540e..."}):o.close()},o.handleClose=function(){o.close()},o.componentDidMount=function(){var e=(document.body.clientWidth||document.documentElement.clientWidth)/2,t=(document.documentElement.clientHeight||document.body.clientHeight)/2;o.setState({top:t,left:e})},o.close=function(){!function(){var e=document.getElementById("react-confirm-alert");e&&(Object(p.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}()},o.state={top:0,left:0,width:e.width,height:e.height,comfirmLabel:e.comfirmLabel},o.moving=!1,o.lastX=null,o.lastY=null,window.onmouseup=function(e){return o.onMouseUp(e)},window.onmousemove=function(e){return o.onMouseMove(e)},o}return Object(l.a)(a,[{key:"onMouseDown",value:function(e){e.stopPropagation(),this.moving=!0}},{key:"onMouseUp",value:function(){this.moving=!1,this.lastX=null,this.lastY=null}},{key:"onMouseMove",value:function(e){this.moving&&this.onMove(e)}},{key:"onMove",value:function(e){if(this.lastX&&this.lastY){var t=e.clientX-this.lastX,a=e.clientY-this.lastY;this.setState({left:this.state.left+t,top:this.state.top+a})}this.lastX=e.clientX,this.lastY=e.clientY}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.message,l=t.hasCancel,r=t.width,o=this.state,i=o.left,s=o.top,c=o.comfirmLabel;return u.a.createElement("div",{className:"modal fade show",style:{backgroundColor:"rgba(0,0,0,0.5)",display:"block"}},u.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:{position:"absolute",transform:"translateX(-50%) translateY(-25%)",width:r+"px",top:s+"px",left:i+"px",display:"block"}},u.a.createElement("div",{className:"modal-content"},u.a.createElement("div",{className:"modal-header",onMouseDown:function(t){return e.onMouseDown(t)}},u.a.createElement("h3",{className:"modal-title",id:"staticBackdropLabel"},a),u.a.createElement("button",{type:"button",className:"close",style:{fontSize:"20px"},onClick:this.handleClose.bind(this)},u.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),u.a.createElement("div",{className:"modal-body"},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),u.a.createElement("div",{className:"modal-footer"},l&&u.a.createElement("button",{onClick:this.handleClose.bind(this),className:"btn btn-kx"},"\u53d6\u6d88"),u.a.createElement("button",{onClick:this.handleConfirm.bind(this),className:"btn"},void 0===c?"\u786e\u5b9a":c)))))}}]),a}(c.Component);function h(e){!function(e){var t=document.getElementById("react-confirm-alert");t?Object(p.render)(u.a.createElement(d,e),t):(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t),Object(p.render)(u.a.createElement(d,e),t))}(e)}d.defaultProps={hasCancel:!1,width:380,height:150,syn:!1,title:"\u63d0\u793a",comfirmLabel:"\u786e\u5b9a",onConfirm:function(){return null}}},582:function(e,t,a){},584:function(e,t){},586:function(e,t){},597:function(e,t){},599:function(e,t){},626:function(e,t){},628:function(e,t){},629:function(e,t){},636:function(e,t){},638:function(e,t){},656:function(e,t){},658:function(e,t){},670:function(e,t){},673:function(e,t){},720:function(e,t,a){"use strict";a.r(t);var n=a(94),l=a(7),r=a(9),o=a(10),i=a(12),s=a(13),c=a(6),u=a(0),p=a.n(u),m=a(41),d=a(15),h=a(28),f=a(4),v=a(42),b=a(5),y=a(445),E=a(93),_=a(21);a(582),a(583);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var x=function(e){Object(i.a)(a,e);var t=g(a);function a(e,n){var l;return Object(r.a)(this,a),(l=t.call(this,e)).state={open:!1,opts_box:{top:0,left:0,width:0},current_label:"",current_val:"",max_height:450,init_options:[],options:[],hasChooseValue:!1,currentEnable:!1,vmax:0},l}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=void 0!==this.props.show_item_count?this.props.show_item_count:8,t=void 0!==this.props.options?this.props.options:[];this.setState({max_height:28*e+10,init_options:t,options:t,current_label:void 0!==this.props.defaultValue?this.props.defaultValue:""}),b.a.isEqual(this.state.currentEnable,this.props.enable)||this.setState({currentEnable:this.props.enable}),b.a.isEqual(this.state.vmax,this.props.vmax)||this.setState({vmax:this.props.vmax})}},{key:"componentDidUpdate",value:function(e,t){if(!b.a.isEqual(this.state.options,this.props.options)){var a=this.props.options;this.setState({options:a,init_options:a})}this.state.hasChooseValue||b.a.isEqual(this.state.current_label,this.props.defaultValue)||this.setState({current_label:this.props.defaultValue}),b.a.isEqual(this.state.vmax,this.props.vmax)||this.setState({vmax:this.props.vmax})}},{key:"setValue",value:function(e){this.setState({current_label:e,current_val:e,hasChooseValue:!0}),this.props.onChange&&this.props.onChange({value:e,label:e})}},{key:"setEnable",value:function(e){this.setState({currentEnable:e})}},{key:"handleClick",value:function(e){if(!this.state.currentEnable){console.log(this.state.currentEnable);var t=e.currentTarget.getBoundingClientRect(),a=e.currentTarget;this.setState({opts_box:{top:isNaN(a.offsetTop)?0:a.offsetTop,left:a.offsetLeft,width:t.width,height:isNaN(t.height)?0:t.height},open:!0})}}},{key:"handleClose",value:function(){var e=this;setTimeout(function(){e.setState({open:!1})},250)}},{key:"handleSelected",value:function(e,t){this.setState({open:!1,current_label:t,current_val:e,hasChooseValue:!0}),this.props.onChange&&this.props.onChange({value:e,label:t})}},{key:"changeValue",value:function(e){var t=e.currentTarget.value,a=this.state.vmax;if(void 0!==a&&parseInt(a)<parseInt(t))return;this.setState({current_label:t,current_val:"",hasChooseValue:!0}),this.props.onChange&&this.props.onChange({value:"",label:t})}},{key:"render",value:function(){var e=b.a.pick(this.props,["ref","children","className","defaultValue","value","id","vmax","label","data-vmax","enable","name","placeholder"]),t=this.props.classes,a=this.state,n=a.opts_box,l=a.max_height,r=a.open,o=a.current_label,i=a.options,s=a.currentEnable;return p.a.createElement("span",null,p.a.createElement("input",Object.assign({type:"text"},e,{value:o,style:{position:"relative"},disabled:s,onClick:this.handleClick.bind(this),onBlur:this.handleClose.bind(this),onChange:this.changeValue.bind(this)})),r&&this.renderOptions(t,n,l,r,i))}},{key:"renderOptions",value:function(e,t,a,n,l){var r=this;return p.a.createElement("div",{style:{position:"absolute",fontSize:14,margin:0,border:"1px solid #dfdfdf",backgroundColor:"#fff",boxShadow:"2px 2px 3px rgba(0,0,0,0.2)",overflowX:"hidden",overflowY:"visible",boxSizing:"border-box",zIndex:999,top:t.top+t.height+2,left:t.left,width:t.width,maxHeight:a,display:n?"block":"none"}},l.map(function(e){return p.a.createElement(_.a,{key:e.label,to:"#",onClick:r.handleSelected.bind(r,e.value,e.label),className:"mopts",style:{position:"relative",float:"left",width:"100%",height:"28px",lineHeight:"28px",fontSize:12,whiteSpace:"nowrap",textDecoration:"none !important",paddingLeft:"10px",paddingRight:"10px",boxSizing:"border-box"}},e.label)}))}}]),a}(u.Component);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var S=function(e){Object(i.a)(a,e);var t=k(a);function a(e,n){var l;return Object(r.a)(this,a),(l=t.call(this,e)).state={open:!1,opts_box:{top:0,left:0},msg:"\u8bf7\u8f93\u5165\u4fe1\u7528\u989d\u5ea6",vmax:0},l}return Object(o.a)(a,[{key:"componentDidMount",value:function(){b.a.isEqual(this.state.vmax,this.props.vmax)||this.setState({vmax:this.props.vmax}),b.a.isEqual(this.state.msg,this.props.msg)||this.setState({msg:this.props.msg})}},{key:"componentDidUpdate",value:function(e,t){b.a.isEqual(this.state.vmax,this.props.vmax)||this.setState({vmax:this.props.vmax}),b.a.isEqual(this.state.msg,this.props.msg)||this.setState({msg:this.props.msg})}},{key:"handleClick",value:function(e){var t=e.currentTarget.getBoundingClientRect(),a=e.currentTarget;this.setState({opts_box:{top:isNaN(a.offsetTop)?0:a.offsetTop-41-t.height,left:a.offsetLeft,width:t.width,height:isNaN(t.height)?0:t.height},open:!0})}},{key:"handleClose",value:function(){var e=this;setTimeout(function(){e.setState({open:!1})},250)}},{key:"changeValue",value:function(e){var t=e.currentTarget.value,a=this.state.vmax;if(void 0!==a&&parseFloat(a)<parseFloat(t))return}},{key:"render",value:function(){var e=b.a.pick(this.props,["ref","children","className","defaultValue","value","id","vmax","label","name","placeholder"]),t=this.state,a=t.opts_box,n=t.open,l=t.msg;return p.a.createElement("span",null,p.a.createElement("input",Object.assign({type:"text"},e,{style:{position:"relative"},onClick:this.handleClick.bind(this),onBlur:this.handleClose.bind(this),onChange:this.changeValue.bind(this)})),n&&this.renderOptions(a,l))}},{key:"renderOptions",value:function(e,t){return p.a.createElement("div",{class:"module g-tl",style:{top:e.top+e.height+2,left:e.left,display:"block",position:"absolute"}},p.a.createElement("div",{class:"hd"}),p.a.createElement("div",{class:"bd"},t),p.a.createElement("div",{class:"ft bb"}))}}]),a}(u.Component),w=a(109);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var O=function(e){Object(i.a)(a,e);var t=C(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).hasPan=function(e,t){for(var a=0;a<t.length;a++)if(e===t[a])return!0;return!1},n.goBack=function(){E.a.goBack()},n.onSwapZc=function(){document.getElementById("swapzc").checked?(n.refs.spp.setEnable(!0),n.refs.lhspp.setEnable(!1),n.refs.spp.setValue(0)):(n.refs.spp.setEnable(!1),n.refs.lhspp.setEnable(!0),n.refs.lhspp.setValue(0))},n.getSelectOption=function(e,t){for(var a=e-t,n=new Array;a>=0;)n.push({label:a,value:a}),a-=5;return n},n.onChangePercent=function(e){n.setState({c_percent:e.label})},n.onChangePercentParent=function(e){n.setState({c_percent_parent:e.label})},n.bufoOpen=function(e){e?document.getElementById("bufo_detail").style.display="inline":(document.getElementById("bufo_detail").style.display="none",document.getElementById("bufo_detail_cb").checked=!1)},n.state={isNew:!1,isClosed:!1,user:{role:1,info:{terms:{list:[]},pans:[]},parent:{role:1},parent_info:{pans:[]},webinfo:{webname:"",uri:"",vcode:""}},current_lottery:{},names:[],mins:[],maxs:[],tmaxs:[],dpans:[],parentPans:[],userPans:[],c_percent:0,c_percent_parent:0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.uid,a=e.role,n=this;"update"===a?(n.setState({isNew:!1}),n.props.getUser(t,function(e){console.log(e),n.setState({user:e}),n.initData(n,e)})):(n.setState({isNew:!0,user:Object(l.a)({},n.state.user,{role:parseInt(a)})}),n.props.getEmptyUser(a,t,function(e){console.log(e),n.setState({user:e}),n.initData(n,e)})),b.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status})}},{key:"initData",value:function(e,t){var a=(new Date).getTime();e.setState({parentPans:t.parent_info.pans,userPans:t.info.pans,c_percent:t.info["percent_role"+t.role],c_percent_parent:t.info["percent_role"+t.parent.role]});var n=t.info.terms.list,l=new Array;l.push({colSpan:1,id:["\u7279\u7801","\u7279\u7801B"],val:["\u7279\u7801"],key:a++});for(var r=2;r<=16;r++)l.push({colSpan:1,id:[n[r].name],val:[n[r].name],key:a++});l.push({colSpan:1,id:["\u4e8c\u8096\u8fde\u4e2d","\u4e8c\u8096\u8fde\u4e0d\u4e2d"],val:["\u4e8c\u8096\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u4e09\u8096\u8fde\u4e2d","\u4e09\u8096\u8fde\u4e0d\u4e2d"],val:["\u4e09\u8096\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u56db\u8096\u8fde\u4e2d","\u56db\u8096\u8fde\u4e0d\u4e2d"],val:["\u56db\u8096\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u4e94\u8096\u8fde\u4e2d","\u4e94\u8096\u8fde\u4e0d\u4e2d"],val:["\u4e94\u8096\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u4e8c\u5c3e\u8fde\u4e2d","\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"],val:["\u4e8c\u5c3e\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u4e09\u5c3e\u8fde\u4e2d","\u4e09\u5c3e\u8fde\u4e0d\u4e2d"],val:["\u4e09\u5c3e\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++}),l.push({colSpan:1,id:["\u56db\u5c3e\u8fde\u4e2d","\u56db\u5c3e\u8fde\u4e0d\u4e2d"],val:["\u56db\u5c3e\u8fde\u4e2d/\u4e0d\u4e2d"],key:a++});for(var o=31;o<=38;o++)l.push({colSpan:1,id:[n[o].name],val:[n[o].name],key:a++});var i=new Array;i.push({colSpan:1,id:["\u7279\u7801","\u7279\u7801B"],val:[n[0].min],key:a++});for(var s=2;s<=16;s++)i.push({colSpan:1,id:[n[s].name],val:[n[s].min],key:a++});i.push({colSpan:1,id:["\u4e8c\u8096\u8fde\u4e2d","\u4e8c\u8096\u8fde\u4e0d\u4e2d"],val:[n[17].min,n[18].min],key:a++}),i.push({colSpan:1,id:["\u4e09\u8096\u8fde\u4e2d","\u4e09\u8096\u8fde\u4e0d\u4e2d"],val:[n[19].min,n[20].min],key:a++}),i.push({colSpan:1,id:["\u56db\u8096\u8fde\u4e2d","\u56db\u8096\u8fde\u4e0d\u4e2d"],val:[n[21].min,n[22].min],key:a++}),i.push({colSpan:1,id:["\u4e94\u8096\u8fde\u4e2d","\u4e94\u8096\u8fde\u4e0d\u4e2d"],val:[n[23].min,n[24].min],key:a++}),i.push({colSpan:1,id:["\u4e8c\u5c3e\u8fde\u4e2d","\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[25].min,n[26].min],key:a++}),i.push({colSpan:1,id:["\u4e09\u5c3e\u8fde\u4e2d","\u4e09\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[27].min,n[28].min],key:a++}),i.push({colSpan:1,id:["\u56db\u5c3e\u8fde\u4e2d","\u56db\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[29].min,n[30].min],key:a++});for(var c=31;c<=38;c++)i.push({colSpan:1,id:[n[c].name],val:[n[c].min],key:a++});var u=new Array;u.push({colSpan:1,id:["\u7279\u7801","\u7279\u7801B"],val:[n[0].max],key:a++});for(var p=2;p<=16;p++)u.push({colSpan:1,id:[n[p].name],val:[n[p].max],key:a++});u.push({colSpan:1,id:["\u4e8c\u8096\u8fde\u4e2d","\u4e8c\u8096\u8fde\u4e0d\u4e2d"],val:[n[17].max,n[18].max],key:a++}),u.push({colSpan:1,id:["\u4e09\u8096\u8fde\u4e2d","\u4e09\u8096\u8fde\u4e0d\u4e2d"],val:[n[19].max,n[20].max],key:a++}),u.push({colSpan:1,id:["\u56db\u8096\u8fde\u4e2d","\u56db\u8096\u8fde\u4e0d\u4e2d"],val:[n[21].max,n[22].max],key:a++}),u.push({colSpan:1,id:["\u4e94\u8096\u8fde\u4e2d","\u4e94\u8096\u8fde\u4e0d\u4e2d"],val:[n[23].max,n[24].max],key:a++}),u.push({colSpan:1,id:["\u4e8c\u5c3e\u8fde\u4e2d","\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[25].max,n[26].max],key:a++}),u.push({colSpan:1,id:["\u4e09\u5c3e\u8fde\u4e2d","\u4e09\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[27].max,n[28].max],key:a++}),u.push({colSpan:1,id:["\u56db\u5c3e\u8fde\u4e2d","\u56db\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[29].max,n[30].max],key:a++});for(var m=31;m<=38;m++)u.push({colSpan:1,id:[n[m].name],val:[n[m].max],key:a++});var d=new Array;d.push({colSpan:1,id:["\u7279\u7801","\u7279\u7801B"],val:[n[0].tmax],key:a++});for(var h=2;h<=16;h++)d.push({colSpan:1,id:[n[h].name],val:[n[h].tmax],key:a++});d.push({colSpan:1,id:["\u4e8c\u8096\u8fde\u4e2d","\u4e8c\u8096\u8fde\u4e0d\u4e2d"],val:[n[17].tmax,n[18].tmax],key:a++}),d.push({colSpan:1,id:["\u4e09\u8096\u8fde\u4e2d","\u4e09\u8096\u8fde\u4e0d\u4e2d"],val:[n[19].tmax,n[20].tmax],key:a++}),d.push({colSpan:1,id:["\u56db\u8096\u8fde\u4e2d","\u56db\u8096\u8fde\u4e0d\u4e2d"],val:[n[21].tmax,n[22].tmax],key:a++}),d.push({colSpan:1,id:["\u4e94\u8096\u8fde\u4e2d","\u4e94\u8096\u8fde\u4e0d\u4e2d"],val:[n[23].tmax,n[24].tmax],key:a++}),d.push({colSpan:1,id:["\u4e8c\u5c3e\u8fde\u4e2d","\u4e8c\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[25].tmax,n[26].tmax],key:a++}),d.push({colSpan:1,id:["\u4e09\u5c3e\u8fde\u4e2d","\u4e09\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[27].tmax,n[28].tmax],key:a++}),d.push({colSpan:1,id:["\u56db\u5c3e\u8fde\u4e2d","\u56db\u5c3e\u8fde\u4e0d\u4e2d"],val:[n[29].tmax,n[30].tmax],key:a++});for(var f=31;f<=38;f++)d.push({colSpan:1,id:[n[f].name],val:[n[f].tmax],key:a++});for(var v={},b=0;b<t.parent_info.pans.length;b++){var y=t.parent_info.pans[b],E=[];E.push({colSpan:1,id:["\u7279\u7801","\u7279\u7801B"],val:[n[0][y],n[1][y]],key:a++}),E.push({colSpan:1,id:[n[2].name],val:[n[2][y]],key:a++}),E.push({colSpan:1,id:[n[3].name],val:[n[3][y]],key:a++}),E.push({colSpan:3,id:[n[4].name,n[5].name,n[6].name],val:[n[4][y]],key:a++}),E.push({colSpan:2,id:[n[7].name,n[8].name],val:[n[7][y]],key:a++});for(var _=9;_<=16;_++)E.push({colSpan:1,id:[n[_].name],val:[n[_][y]],key:a++});E.push({colSpan:4,id:[n[17].name,n[18].name,n[19].name,n[20].name,n[21].name,n[22].name,n[23].name,n[24].name],val:[n[17][y]],key:a++}),E.push({colSpan:3,id:[n[25].name,n[26].name,n[27].name,n[28].name,n[29].name,n[30].name],val:[n[25][y]],key:a++});for(var g=31;g<=38;g++)E.push({colSpan:1,id:[n[g].name],val:[n[g][y]],key:a++});v[y]=E}console.log(v),e.setState({names:l,mins:i,maxs:u,tmaxs:d,dpans:v})}},{key:"componentDidUpdate",value:function(e){b.a.isEqual(this.props.current_lottery,this.state.current_lottery)||this.setState({current_lottery:this.props.current_lottery,isClosed:1!==this.props.current_lottery.status})}},{key:"onChangePan",value:function(){for(var e=this.state.parentPans,t=new Array,a=0;a<e.length;a++){var n=document.getElementById("cp_"+e[a]);null!==n&&n.checked&&t.push(n.value)}this.setState({userPans:t})}},{key:"get",value:function(e){return document.getElementById(e).value}},{key:"getFloat",value:function(e){return parseFloat(document.getElementById(e).value)}},{key:"onSaveSubmit",value:function(){var e=this,t=Object(f.h)("user_form"),a=t.percent_parent,n={username:t.username,password:t.password,name:t.name,role:this.state.user.role,status:t.stat};void 0!==t.vcode&&(n.vcode=t.vcode,n.webname=t.webname,n.uri=t.uri);var l={quota:t.quota,percent_parent:a,percent:t.percent,child_limit:t.child_limit,stat:t.stat,bufo:t.bufo,bufo_detail:void 0===t.bufo_detail?0:t.bufo_detail,bufo_zc:t.bufo_zc,pans:e.state.userPans};n.info=l,e.state.isNew?e.props.createUser(n,e.state.user.parent_id,function(t){Object(y.a)({title:"\u63d0\u793a",message:"\u8d26\u53f7\u521b\u5efa\u6210\u529f\uff01",hasCancel:!1,onConfirm:function(){E.a.push({pathname:"/admin/users/"+e.getRolePage(e.state.user.role)})}})}):(n.uid=e.state.user.uid,n.info.uid=e.state.user.uid,e.props.updateUserAndInfo(n,function(e){Object(y.a)({title:"\u63d0\u793a",message:"\u4fee\u6539\u6210\u529f\uff01",hasCancel:!1,onConfirm:function(){}})}))}},{key:"getRoleName",value:function(e){switch(e){case 999:return"\u4ee3\u74067";case 70:return"\u4ee3\u74066";case 60:return"\u4ee3\u74065";case 50:return"\u4ee3\u74064";case 40:return"\u4ee3\u74063";case 30:return"\u4ee3\u74062";case 20:return"\u4ee3\u7406";case 1:return"\u4f1a\u5458"}}},{key:"getRolePage",value:function(e){switch(e){case 70:return"gs";case 60:return"fgs";case 50:return"dgd";case 40:return"gd";case 30:return"zdl";case 20:return"dl";case 1:return"hy"}}},{key:"onHandlePP",value:function(e){var t=parseInt(document.getElementById("select_p").value),a=parseInt(document.getElementById("select_pp").value);if(t+a>e){var n=e-t;document.getElementById("select_pp").value=n,alert("\u4f54\u6210\u6bd4\u4f8b\u8d85\u904e\u4e0a\u9650\uff0c\u6700\u591a\u53ef\u4f54"+n+"%\uff0c\u6216\u8abf\u6574\u4e0b\u7d1a\u4f54\u6bd4\u5f8c\u518d\u9032\u884c\u8a2d\u5b9a\u3002")}var l=e-a-t;document.getElementById("zctip").innerHTML=l>0?"( \u9084\u5269"+l+"%\u672a\u4f54 )":""}},{key:"onHandleP",value:function(e){var t=parseInt(document.getElementById("select_p").value),a=parseInt(document.getElementById("select_pp").value);if(t+a>e){var n=e-a;document.getElementById("select_p").value=n,alert("\u4f54\u6210\u6bd4\u4f8b\u8d85\u904e\u4e0a\u9650\uff0c\u6700\u591a\u53ef\u4f54"+n+"%\uff0c\u6216\u8abf\u6574\u4e0a\u7d1a\u4f54\u6bd4\u5f8c\u518d\u9032\u884c\u8a2d\u5b9a\u3002")}var l=e-a-t;document.getElementById("zctip").innerHTML=l>0?"( \u9084\u5269"+l+"%\u672a\u4f54 )":""}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,l=t.isNew,r=t.parentPans,o=t.userPans,i=t.isClosed,s=t.c_percent;return p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"titlebar"},l&&p.a.createElement("h3",{style:{left:"70px"}},"\u65b0\u589e",this.getRoleName(a.role)),!l&&p.a.createElement("h3",{style:{left:"70px"}},"\u4fee\u6539",this.getRoleName(a.role)),p.a.createElement("button",{type:"button",class:"btn red fn-back",onClick:this.goBack.bind(this)},"\u8fd4\u56de")),p.a.createElement("div",{className:"module"},p.a.createElement("form",{id:"user_form"},p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null," ",p.a.createElement("tr",null," ",p.a.createElement("th",{colspan:"8"},"\u57fa\u672c\u4fe1\u606f")," ")," "),1!==a.role&&p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,"\u540d\u79f0"),p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w90",name:"name",defaultValue:a.name,required:"",rangelength:"[1,16]",autofocus:"",detctdangerchar:"true","aria-required":"true"}),"  "),p.a.createElement("td",null,"\u8d26\u53f7"),l&&p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w70",name:"username",defaultValue:a.username}),"  "),!l&&p.a.createElement("td",null,a.username,p.a.createElement("input",{type:"hidden",className:"w70",name:"username",defaultValue:a.username}),"  "),p.a.createElement("td",null,"\u5bc6\u78bc"),p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w70",name:"password"}),"  "),p.a.createElement("td",null,"\u72b6\u6001"),p.a.createElement("td",null,p.a.createElement("select",{name:"stat"},1===a.status?p.a.createElement("option",{selected:!0,value:"1"},"\u542f\u7528"):p.a.createElement("option",{value:"1"},"\u542f\u7528"),0===a.status?p.a.createElement("option",{selected:!0,value:"0"},"\u505c\u7528"):p.a.createElement("option",{value:"0"},"\u505c\u7528"),2===a.status?p.a.createElement("option",{selected:!0,value:"2"},"\u505c\u62bc"):p.a.createElement("option",{value:"2"},"\u505c\u62bc")))),p.a.createElement("tr",null,p.a.createElement("td",null,"\u4fe1\u7528\u984d\u5ea6"),p.a.createElement("td",null,p.a.createElement(S,{type:"text",className:"w90",name:"quota",vmax:a.parent_info.quota_rm+a.info.quota,defaultValue:a.info.quota,msg:"\u8bf7\u8f93\u5165\u4fe1\u7528\u989d\u5ea6,\u503c\u8303\u56f4[0 - "+Object(f.e)(a.parent_info.quota_rm+a.info.quota)+"]"})),p.a.createElement("td",null,this.getRoleName(a.role),"\u53ca\u4e0b\u7ea7\u6700\u9ad8\u5360\u6210\u603b\u548c"),!l&&!i&&1===a.had_betting&&p.a.createElement("td",null,a.info["percent_role"+a.role],"%",p.a.createElement("input",{type:"hidden",id:"select_p",name:"percent",value:a.info["percent_role"+a.role]})),(l||i||0===a.had_betting)&&p.a.createElement("td",null,p.a.createElement(x,Object(n.a)({ref:"sp",id:"select_p",name:"percent",defaultValue:a.info["percent_role"+a.role],"data-max":a.parent_info.percent_max,onChange:this.onHandleP.bind(this,a.parent_info.percent_max),className:"w60",show_item_count:10,options:this.getSelectOption(a.parent_info.percent_max,0),vmax:a.parent_info.percent_max},"onChange",this.onChangePercent.bind(this))),"%"),p.a.createElement("td",null,this.getRoleName(a.parent.role),"\u6700\u9ad8\u5360\u6210"),999===a.parent.role&&p.a.createElement("td",null,p.a.createElement("input",{type:"text",disabled:!0,value:0,id:"select_pp",name:"percent_parent",className:"w60"})," %"),999!==a.parent.role&&!l&&!i&&1===a.had_betting&&p.a.createElement("td",null,a.info["percent_role"+a.parent.role],"%",p.a.createElement("input",{type:"hidden",id:"select_pp",name:"percent_parent",value:a.info["percent_role"+a.parent.role]})),999!==a.parent.role&&(l||i||0===a.had_betting)&&p.a.createElement("td",null,p.a.createElement(x,Object(n.a)({ref:"spp",id:"select_pp",name:"percent_parent",defaultValue:a.info["percent_role"+a.parent.role],"data-max":a.parent_info.percent_max,onChange:this.onHandlePP.bind(this,a.parent_info.percent_max),className:"w60",show_item_count:10,options:this.getSelectOption(a.parent_info.percent_max,0),vmax:a.parent_info.percent_max},"onChange",this.onChangePercentParent.bind(this)))," %"),p.a.createElement("td",null,"\u98de\u5355\u8bbe\u5b9a"),p.a.createElement("td",null,p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"bufo",value:"1",defaultChecked:1===a.info.bufo,onClick:this.bufoOpen.bind(this,!0)})," \u5141\u8bb8\u98de\u5355"),"\xa0\xa0\xa0",p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"bufo",value:"0",defaultChecked:0===a.info.bufo,onClick:this.bufoOpen.bind(this,!1)})," \u7981\u6b62\u98de\u5355")),p.a.createElement("div",{style:{display:"none"}},p.a.createElement("label",{id:"bufo_detail",style:{display:"none"}},p.a.createElement("input",{type:"checkbox",id:"bufo_detail_cb",name:"bufo_detail",value:"1",defaultChecked:1===a.info.bufo_detail}),"\u98de\u5355\u660e\u7ec6"),r.map(function(t){return p.a.createElement("label",null,p.a.createElement("input",{id:"cp_"+t,name:"pan",defaultChecked:e.hasPan(t,o),onChange:e.onChangePan.bind(e),type:"checkbox",value:t})," ",t,"\xa0\xa0")}),p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"bufo_zc",value:"1",defaultChecked:!0,disabled:!0}),"\u662f"),"\xa0",p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"bufo_zc",value:"0",defaultChecked:!1,disabled:!0}),"\u5426"),"\xa0",p.a.createElement("input",{type:"hidden",name:"bufo_child_lm",value:"0"}),p.a.createElement("input",{type:"hidden",name:"child_limit",value:"9999"}))),1===a.parent_info.lh&&p.a.createElement("tr",null,p.a.createElement("td",null,"\u5269\u4f59\u989d\u5ea6"),p.a.createElement("td",null,Object(f.e)(a.parent_info.quota_rm+a.info.quota)),p.a.createElement("td",null,p.a.createElement("span",{style:{display:"none"}},this.getRoleName(a.parent.role),"\u62e6\u622a\u5360\u6210")),p.a.createElement("td",null,p.a.createElement("div",{style:{display:"none"}},p.a.createElement("label",null,p.a.createElement("input",{type:"checkbox",id:"swapzc",onChange:this.onSwapZc.bind(this),defaultChecked:a.info["lh_role"+a.parent.role]>0})),p.a.createElement(x,{ref:"lhspp",id:"lh_percent_parent",name:"lh_percent_parent",enable:!(a.info["lh_role"+a.parent.role]>0),defaultValue:a.info["lh_role"+a.parent.role],className:"w70",show_item_count:10,vmax:a.parent_info.percent_max,options:this.getSelectOption(a.parent_info.percent_max,0)}),"%",p.a.createElement("font",{id:"zctip",color:"red",style:{display:"none"}},"\u9084\u5269",a.parent_info.percent_max-a.info["percent_role"+a.parent.role]-a.info["percent_role"+a.role],"%\u672a\u4f54"))),p.a.createElement("td",null,p.a.createElement("span",{style:{display:"none"}},this.getRoleName(a.role),"\u62e6\u622a\u5360\u6210")),p.a.createElement("td",null,p.a.createElement("div",{style:{display:"none"}},p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"lh",value:"1",defaultChecked:1===a.info.lh}),"\u5141\u8bb8"),"\xa0",p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:"lh",value:"0",defaultChecked:1!==a.info.lh}),"\u4e0d\u5141\u8bb8"),"\xa0")),p.a.createElement("td",null),p.a.createElement("td",null)),1!==a.parent_info.lh&&p.a.createElement("tr",null,p.a.createElement("td",null,"\u5269\u4f59\u989d\u5ea6"),p.a.createElement("td",null,Object(f.e)(a.parent_info.quota_rm+a.info.quota)),p.a.createElement("td",null),p.a.createElement("td",null,p.a.createElement("font",{id:"zctip",color:"red",style:{display:"none"}},"\u9084\u5269",a.parent_info.percent_max-a.info["percent_role"+a.parent.role]-a.info["percent_role"+a.role],"%\u672a\u4f54")),p.a.createElement("td",null),p.a.createElement("td",null,p.a.createElement("input",{type:"hidden",name:"lh",value:"0"}),p.a.createElement("input",{type:"hidden",name:"lh_percent_parent",value:"0"})),p.a.createElement("td",null),p.a.createElement("td",null))),1===a.role&&p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,"\u540d\u79f0"),p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w70",name:"name",defaultValue:a.name,required:"",rangelength:"[1,16]",autofocus:"",detctdangerchar:"true","aria-required":"true"}),"  "),p.a.createElement("td",null,"\u8d26\u53f7"),l&&p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w70",name:"username",defaultValue:a.username}),"  "),!l&&p.a.createElement("td",null,a.username,p.a.createElement("input",{type:"hidden",className:"w70",name:"username",defaultValue:a.username}),"  "),p.a.createElement("td",null,"\u5bc6\u78bc"),p.a.createElement("td",null,p.a.createElement("input",{type:"text",className:"w70",name:"password",required:"",rangelength:"[1,16]",autofocus:"",detctdangerchar:"true","aria-required":"true"}),"  ")),p.a.createElement("tr",null,p.a.createElement("td",null,"\u4fe1\u7528\u984d\u5ea6"),p.a.createElement("td",null,p.a.createElement(S,{type:"text",className:"w70",name:"quota",vmax:a.parent_info.quota_rm+a.info.quota,defaultValue:a.info.quota,msg:"\u8bf7\u8f93\u5165\u4fe1\u7528\u989d\u5ea6,\u503c\u8303\u56f4[0 - "+Object(f.e)(a.parent_info.quota_rm+a.info.quota)+"]"})),p.a.createElement("td",null,"\u5bf9\u6b64\u4f1a\u5458\u7684\u5b9e\u9645\u5360\u6210\u6570"),!l&&!i&&1===a.had_betting&&p.a.createElement("td",null,a.info["percent_role"+a.parent.role],"%",p.a.createElement("input",{type:"hidden",id:"select_pp",name:"percent_parent",value:a.info["percent_role"+a.parent.role]})),(l||i||0===a.had_betting)&&p.a.createElement("td",null,p.a.createElement(x,Object(n.a)({ref:"spp",id:"select_pp",name:"percent_parent",enable:a.info["lh_role"+a.parent.role]>0&&1===a.parent_info.lh,defaultValue:a.info["percent_role"+a.parent.role],"data-max":a.parent_info.percent_max,onChange:this.onHandlePP.bind(this,a.parent_info.percent_max),className:"w60",show_item_count:10,options:this.getSelectOption(a.parent_info.percent_max,s),vmax:a.parent_info.percent_max-s},"onChange",this.onChangePercentParent.bind(this))),"%"),p.a.createElement("td",null,"\u72b6\u6001"),p.a.createElement("td",null,p.a.createElement("select",{name:"stat"},1===a.status?p.a.createElement("option",{selected:!0,value:"1"},"\u542f\u7528"):p.a.createElement("option",{value:"1"},"\u542f\u7528"),0===a.status?p.a.createElement("option",{selected:!0,value:"0"},"\u505c\u7528"):p.a.createElement("option",{value:"0"},"\u505c\u7528")))),p.a.createElement("tr",null,p.a.createElement("td",null,"\u5269\u4f59\u989d\u5ea6"),p.a.createElement("td",null,Object(f.e)(a.parent_info.quota_rm+a.info.quota)),p.a.createElement("td",null),p.a.createElement("td",null),p.a.createElement("td",null),p.a.createElement("td",null,p.a.createElement("div",{style:{display:"none"}},r.map(function(t){return p.a.createElement("label",null,p.a.createElement("input",{id:"cp_"+t,name:"pan",defaultChecked:e.hasPan(t,o),onChange:e.onChangePan.bind(e),type:"checkbox",value:t})," ",t,"\xa0\xa0")})),p.a.createElement("input",{type:"hidden",name:"bufo_child_lm",value:"0"}),p.a.createElement("input",{type:"hidden",name:"child_limit",value:"9999"}),p.a.createElement("input",{type:"hidden",id:"select_p",name:"percent",defaultValue:0}),p.a.createElement("font",{id:"zctip",color:"red",style:{display:"none"}},"\u9084\u5269",a.parent_info.percent_max-a.info["percent_role"+a.parent.role]-a.info["percent_role"+a.role],"%\u672a\u4f54"))))),70===a.role&&p.a.createElement("table",{className:"table table-bordered",style:{width:"100%",display:"inline-table",marginLeft:"0px"}},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{colSpan:"4"},"\u7f51\u7ad9\u8bbe\u7f6e"))),p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,"\u7f51\u7ad9\u540d\u79f0",p.a.createElement("br",null),p.a.createElement("input",{name:"webname",type:"text",className:"w70",defaultValue:a.webinfo.webname})),p.a.createElement("td",null,"\u7f51\u7ad9\u9a8c\u8bc1\u7801",p.a.createElement("br",null),p.a.createElement("input",{name:"vcode",type:"text",className:"w70",defaultValue:a.webinfo.vcode})),p.a.createElement("td",null,"\u5206\u914d\u7ebf\u8def\uff08\u53ea\u586b\u5165\u4e00\u7ea7\u57df\u540d\uff09",p.a.createElement("br",null),p.a.createElement("input",{name:"uri",type:"text",style:{width:"250px"},defaultValue:a.webinfo.uri})),p.a.createElement("td",null,"\u8bbf\u95ee\u7f51\u5740",p.a.createElement("br",null),p.a.createElement("input",{name:"url",type:"text",style:{width:"250px"},value:w.a.navUrl})))))),p.a.createElement("form",{id:"yoji_form",name:"yoji_form"},p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("tbody",null,p.a.createElement("tr",null," ",p.a.createElement("td",{colspan:"9",class:"tc"}," ",p.a.createElement("button",{type:"button",class:"btn red",onClick:this.onSaveSubmit.bind(this)},"\u4fdd\u5b58"),'(\u6240\u6709\u5f02\u52a8\u5728\u70b9\u9009"\u4fdd\u5b58"\u540e\u751f\u6548) ')," "))))))}}]),a}(u.Component);t.default=Object(m.g)(Object(h.a)(function(e){return{current_lottery:e.heartbeat.current_lottery}},function(e){return Object(d.c)({getEmptyUser:v.s,getUser:v.E,updateUserAndInfo:v.Db,createUser:v.j,setUserTerm:v.ob},e)})(O))}}]);