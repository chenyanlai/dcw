(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{443:function(e,t,a){"use strict";var n=a(9),r=a(10),l=a(12),c=a(13),o=a(6),i=a(0),u=a.n(i),s=(a(28),a(4),a(5));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var h=function(e){Object(l.a)(a,e);var t=m(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onPage=function(e){e<=0||(r.setState({current_page:e}),r.props.onPage&&r.props.onPage(e))},r.getPageData=function(e,t){if(t.length<=12)return t;var a=new Array;return e<=2?(a.push(t[0]),a.push(t[1]),a.push(t[2]),a.push(t[3]),a.push(t[5]),a.push({idx:0,label:" . . . "}),a.push(t[t.length-5]),a.push(t[t.length-4]),a.push(t[t.length-3]),a.push(t[t.length-2]),a.push(t[t.length-1])):(a.push(t[e-3]),a.push(t[e-2]),a.push(t[e-1]),e<=t.length-1&&a.push(t[e]),e+1<=t.length-1&&(a.push(t[e+1]),t.length-5>e+2&&a.push({idx:0,label:" . . . "}),e+2<=t.length-5&&a.push(t[t.length-5]),e+2<=t.length-4&&a.push(t[t.length-4]),e+2<=t.length-3&&a.push(t[t.length-3]),e+2<=t.length-2&&a.push(t[t.length-2]),e+2<=t.length-1&&a.push(t[t.length-1]))),a},r.state={pager:{},list:[],total_page:1,current_page:1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pager;this.setData(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.pager;this.setData(e)}},{key:"setData",value:function(e){if(!s.a.isEqual(e,this.state.pager)){var t=Math.floor(e.total/e.size);e.size%e.total!==0&&t++;for(var a=new Array,n=1;n<=t;n++)a.push({idx:n,label:n});var r=e.offset/e.size+1;this.setState({list:a,total_page:t,current_page:r,pager:e})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.current_page,n=t.total_page,r=t.list;return u.a.createElement("nav",{"aria-label":"Page navigation"},u.a.createElement("ul",{class:"pagination pagination-lg justify-content-center"},a>1&&u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u9996\u9875")),1===a&&n>0&&u.a.createElement("li",{class:"page-item disabled"},u.a.createElement("a",{class:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),a>1&&u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,a-1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),this.getPageData(a,r).map(function(t){return u.a.createElement("li",{className:a===t.idx?"page-item active":"page-item"},u.a.createElement("a",{onClick:e.onPage.bind(e,t.idx),className:"page-link",href:"javascript:;"},t.label))}),a===n&&u.a.createElement("li",{class:"page-item disabled"},u.a.createElement("a",{class:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801")),a<n&&u.a.createElement("li",{class:"page-item"},u.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,a+1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801"))))}}]),a}(i.Component);t.a=h},446:function(e,t,a){(function(e,n){var r;!function(l){var c=t,o=(e&&e.exports,"object"==typeof n&&n);o.global!==o&&o.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new i(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=/[\t\n\f\r ]/g,h={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,a,n,r,l=e.length%3,c="",o=-1,i=e.length-l;++o<i;)t=e.charCodeAt(o)<<16,a=e.charCodeAt(++o)<<8,n=e.charCodeAt(++o),c+=s.charAt((r=t+a+n)>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==l?(t=e.charCodeAt(o)<<8,a=e.charCodeAt(++o),c+=s.charAt((r=t+a)>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==l&&(r=e.charCodeAt(o),c+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),c},decode:function(e){var t=(e=String(e).replace(m,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var a,n,r=0,l="",c=-1;++c<t;)n=s.indexOf(e.charAt(c)),a=r%4?64*a+n:n,r++%4&&(l+=String.fromCharCode(255&a>>(-2*r&6)));return l},version:"0.1.0"};void 0===(r=function(){return h}.call(t,a,t,e))||(e.exports=r)}()}).call(this,a(202)(e),a(83))},693:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),l=a(29),c=a(12),o=a(13),i=a(6),u=a(0),s=a.n(u),m=a(41),h=a(15),p=a(28),d=a(4),f=a(5),g=a(93),b=a(42);a(443);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var _=a(446),v=function(e){Object(c.a)(a,e);var t=E(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onHandle=function(){var e=Object(l.a)(r),t=r.props.match.params.model;try{var a=JSON.parse(_.decode(t));void 0==a.stat&&(a.stat=2),e.setState({model:a},function(){e.props.getMonthlyPlayNameReport(a.s_id,a.e_id,function(t){e.setState({list:t})},a.stat)})}catch(n){console.log(n),alert(n),g.a.goBack()}},r.goBack=function(){g.a.goBack()},r.htmlNumber=function(e){return e>=0?Object(d.e)(e,2):s.a.createElement("font",{color:"red"},Object(d.e)(e,2))},r.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},r.gotoNext=function(e){var t=Object(l.a)(r).state.model;g.a.push({pathname:"/report/orderlist/"+_.encode(JSON.stringify({uid:"me",lottery_id:"",s_id:t.s_id,e_id:t.e_id,stat:t.stat,playname:encodeURIComponent(e)}))})},r.getTrData=function(e,t,a,n){return s.a.createElement("tr",null,s.a.createElement("td",null,n+1),s.a.createElement("td",{style:{cursor:"pointer",color:"red"},onClick:r.gotoNext.bind(Object(l.a)(r),e.play_name)},e.play_name),s.a.createElement("td",null,r.htmlNumber(e.order_count)),s.a.createElement("td",null,r.htmlNumber(e.all_total_amount)),s.a.createElement("td",null,r.htmlNumber(e.total_amount)),s.a.createElement("td",null,r.htmlNumber(e.op1.pay_amout)),s.a.createElement("td",null,r.htmlNumber(e.op1.final_profit)),a>1&&s.a.createElement("td",null,r.htmlNumber(e["op"+a].pay_amout)),a>1&&s.a.createElement("td",{className:"colBg"},r.htmlNumber(e["op"+a].pay_out)),s.a.createElement("td",null,e["op"+t].part>0?e["op"+t].part:0,"%"),s.a.createElement("td",null,r.htmlNumber(e["op"+t].amount)),s.a.createElement("td",null,r.htmlNumber(-1*e["op"+t].fee_out)),s.a.createElement("td",null,r.htmlNumber(e["op"+t].fee_in)),s.a.createElement("td",{className:"colBg"},r.htmlNumber(e["op"+t].final_profit)),s.a.createElement("td",null,r.htmlNumber(e["op"+t].pay_amout)),s.a.createElement("td",{className:"colBg"},r.htmlNumber(e["op"+t].pay_out)))},r.state={inited:!1,current_role:window.role,child_role:Object(d.g)(window.role),totalVO:{total_amount:0,total_yoji:0,total_profit:0,total_final_profit:0},pager:{offset:0,size:50,total:0},list:[],uid:"",loginer:{role:20,username:""},model:{uid:"",s_date:"",s_id:"",s_period:"",e_date:"",e_id:"",stat:2,e_period:""}},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){f.a.isEqual(this.props.loginer,this.state.loginer)||this.setState({loginer:this.props.loginer})}},{key:"componentDidMount",value:function(){this.onHandle(),f.a.isEqual(this.props.loginer,this.state.loginer)||this.setState({loginer:this.props.loginer})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.loginer,r=t.current_role,l=t.child_role,c=t.model;return s.a.createElement("div",{className:"page-wrapper"},s.a.createElement("div",{className:"titlebar"},s.a.createElement("h3",{style:{left:"70px"}},"\u62a5\u88681 [",s.a.createElement("font",{color:"red"},0==c.stat?"\u672a\u7ed3\u7b97":"\u5df2\u7ed3\u7b97"),"] \xa0\xa0-\xa0",s.a.createElement("span",{style:{fontSize:"12px",color:"#666"}},Object(d.i)(n.role),"[",n.username,"] ",c.s_period.substring(4),"\u671f(",c.s_date,") - ",c.e_period.substring(4),"\u671f(",c.e_date,") ")),s.a.createElement("button",{className:"btn",style:{marginLeft:"6px"},onClick:this.goBack.bind(this)},"\u8fd4\u56de")),s.a.createElement("div",{className:"tablelist "},s.a.createElement("table",{className:"table table-bordered table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg1"},s.a.createElement("th",null,"\u5e8f\u53f7"),s.a.createElement("th",null,"\u73a9\u6cd5\u5206\u7c7b"),s.a.createElement("th",null,"\u4e0b\u6ce8\u6570"),s.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u989d"),s.a.createElement("th",null,"\u6709\u6548\u91d1\u989d"),s.a.createElement("th",null,"\u4f1a\u5458\u6709\u6548\u91d1\u989d"),s.a.createElement("th",{style:{color:"red"}},"\u4f1a\u5458\u76c8\u4e8f"),l>1&&s.a.createElement("th",null,Object(d.i)(l),"\u5360\u6210\u4e0a\u7f34"),l>1&&s.a.createElement("th",null,Object(d.i)(l),"\u4ea4\u6536"),s.a.createElement("th",null,Object(d.i)(r),"\u5360\u6210%"),s.a.createElement("th",null,Object(d.i)(r),"\u5360\u6210"),s.a.createElement("th",null,Object(d.i)(r),"\u9000\u4f63"),s.a.createElement("th",null,Object(d.i)(r),"\u8d5a\u4f63"),s.a.createElement("th",null,Object(d.i)(r),"\u76c8\u4e8f"),s.a.createElement("th",null,Object(d.i)(r),"\u5360\u6210\u4ea4\u6536"),s.a.createElement("th",null,Object(d.i)(r),"\u4e0a\u7f34"))),s.a.createElement("tbody",{className:"tr fn-hover"},a.map(function(t,a){return e.getTrData(t,r,l,a)})),s.a.createElement("tfoot",{className:"tr bold"},s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",null,"\u603b\u8ba1"),s.a.createElement("td",null,this.htmlNumber(this.sum(a,"order_count"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a,"all_total_amount"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a,"total_amount"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e.op1}),"pay_amout"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e.op1}),"final_profit"))),l>1&&s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+l]}),"pay_amout"))),l>1&&s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+l]}),"pay_out"))),s.a.createElement("td",null),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+r]}),"amount"))),s.a.createElement("td",null,this.htmlNumber(-1*this.sum(a.map(function(e){return e["op"+r]}),"fee_out"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+r]}),"fee_in"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+r]}),"final_profit"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+r]}),"pay_amout"))),s.a.createElement("td",null,this.htmlNumber(this.sum(a.map(function(e){return e["op"+r]}),"pay_out"))))))))}}]),a}(u.Component);t.default=Object(m.g)(Object(p.a)(function(e){return{loginer:e.auth.user}},function(e){return Object(h.c)({getMonthlyPlayNameReport:b.x},e)})(v))}}]);