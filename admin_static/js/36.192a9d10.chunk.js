(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{445:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(9),o=n(10),l=n(29),r=n(12),c=n(13),i=n(6),s=n(0),m=n.n(s),u=n(148);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var o=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var f=function(e){Object(r.a)(n,e);var t=d(n);function n(e,o){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleConfirm=function(){r.props.onConfirm&&r.props.onConfirm(Object(l.a)(r)),r.props.syn?r.setState({comfirmLabel:"\u8bf7\u7a0d\u540e..."}):r.close()},r.handleClose=function(){r.close()},r.componentDidMount=function(){var e=(document.body.clientWidth||document.documentElement.clientWidth)/2,t=(document.documentElement.clientHeight||document.body.clientHeight)/2;r.setState({top:t,left:e})},r.close=function(){!function(){var e=document.getElementById("react-confirm-alert");e&&(Object(u.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}()},r.state={top:0,left:0,width:e.width,height:e.height,comfirmLabel:e.comfirmLabel},r.moving=!1,r.lastX=null,r.lastY=null,window.onmouseup=function(e){return r.onMouseUp(e)},window.onmousemove=function(e){return r.onMouseMove(e)},r}return Object(o.a)(n,[{key:"onMouseDown",value:function(e){e.stopPropagation(),this.moving=!0}},{key:"onMouseUp",value:function(){this.moving=!1,this.lastX=null,this.lastY=null}},{key:"onMouseMove",value:function(e){this.moving&&this.onMove(e)}},{key:"onMove",value:function(e){if(this.lastX&&this.lastY){var t=e.clientX-this.lastX,n=e.clientY-this.lastY;this.setState({left:this.state.left+t,top:this.state.top+n})}this.lastX=e.clientX,this.lastY=e.clientY}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.message,o=t.hasCancel,l=t.width,r=this.state,c=r.left,i=r.top,s=r.comfirmLabel;return m.a.createElement("div",{className:"modal fade show",style:{backgroundColor:"rgba(0,0,0,0.5)",display:"block"}},m.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:{position:"absolute",transform:"translateX(-50%) translateY(-25%)",width:l+"px",top:i+"px",left:c+"px",display:"block"}},m.a.createElement("div",{className:"modal-content"},m.a.createElement("div",{className:"modal-header",onMouseDown:function(t){return e.onMouseDown(t)}},m.a.createElement("h3",{className:"modal-title",id:"staticBackdropLabel"},n),m.a.createElement("button",{type:"button",className:"close",style:{fontSize:"20px"},onClick:this.handleClose.bind(this)},m.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),m.a.createElement("div",{className:"modal-body"},m.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),m.a.createElement("div",{className:"modal-footer"},o&&m.a.createElement("button",{onClick:this.handleClose.bind(this),className:"btn btn-kx"},"\u53d6\u6d88"),m.a.createElement("button",{onClick:this.handleConfirm.bind(this),className:"btn"},void 0===s?"\u786e\u5b9a":s)))))}}]),n}(s.Component);function h(e){!function(e){var t=document.getElementById("react-confirm-alert");t?Object(u.render)(m.a.createElement(f,e),t):(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t),Object(u.render)(m.a.createElement(f,e),t))}(e)}f.defaultProps={hasCancel:!1,width:380,height:150,syn:!1,title:"\u63d0\u793a",comfirmLabel:"\u786e\u5b9a",onConfirm:function(){return null}}},710:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n(10),l=n(12),r=n(13),c=n(6),i=n(0),s=n.n(i),m=n(41),u=n(15),d=n(28),f=n(4),h=n(42),p=(n(5),n(445));n(93);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(r.a)(this,n)}}var v=function(e){Object(l.a)(n,e);var t=b(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).onFeeChange=function(e,t){var n=parseFloat(document.getElementById("myfee-"+e).value);if(!isNaN(n))if(n<=t){var a=o.state.list[e],l=Object(f.e)(a.odds-(a.parent_total_fee+n/100)*a.odds);document.getElementById("live_odd_"+e).innerHTML=l}else document.getElementById("myfee-"+e).value="0",o.onFeeChange(0,t)},o.onChangeNum=function(e,t){var n=parseFloat(document.getElementById(e).value);!isNaN(n)&&n<=t||(document.getElementById(e).value=t,o.onFeeChange(t,t))},o.state={user:{username:"",name:""},uid:"",list:[]},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.uid,t=this;t.props.getFeeConfig(e,function(n){t.setState({list:n,uid:e})}),t.props.getUser(e,function(e){t.setState({user:e})})}},{key:"onSaveSubmit",value:function(){var e=Object(f.h)("yoji_form");console.log(e);for(var t=this.state.list,n=new Array,a=0;a<t.length;a++){var o=t[a],l=parseFloat(e["myfee_"+o.name]);isNaN(l)&&(l=0);var r={name:o.name,fee_in:Object(f.e)(l/100,6),max:e["max_"+o.name],tmax:e["tmax_"+o.name]};n.push(r)}console.log(n),this.props.setUserTerm({uid:this.state.uid,list:n},function(e){Object(p.a)({title:"\u63d0\u793a",message:"\u4fee\u6539\u6210\u529f\uff01",hasCancel:!1,onConfirm:function(){}})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.list,a=t.user;return s.a.createElement("div",{className:"page-wrapper"},s.a.createElement("div",{className:"titlebar"},s.a.createElement("h3",null,a.username," \u7684\u9000\u6c34\u9650\u989d\u8bbe\u7f6e")),s.a.createElement("form",{id:"yoji_form",name:"yoji_form"},s.a.createElement("table",{className:"table table-bordered table-hover",style:{width:"100%",display:"inline-table",marginLeft:"0px"}},s.a.createElement("thead",null,s.a.createElement("th",null,"\u6fb3\u95e8\u516d\u5408\u5f69"),s.a.createElement("th",null,"\u8d54\u7387"),s.a.createElement("th",null,"\u8d5a\u6c34\u8c03\u6574\uff08%\uff09"),s.a.createElement("th",null,"\u6d6e\u52a8\u8d54\u7387"),s.a.createElement("th",null,"\u5355\u6ce8\u9650\u989d"),s.a.createElement("th",null,"\u5355\u671f\u9650\u989d")),s.a.createElement("tbody",null,n.map(function(t,n){return s.a.createElement("tr",null,s.a.createElement("td",null,t.name),s.a.createElement("td",null,Object(f.e)(t.odds-t.parent_total_fee*t.odds)),s.a.createElement("td",null,s.a.createElement("input",{key:"myfee-"+n,id:"myfee-"+n,defaultValue:Object(f.e)(100*t.myfee,5),name:"myfee_"+t.name,className:"inp_min_c ",onChange:e.onFeeChange.bind(e,n,20)}),"  ",s.a.createElement("font",{color:"red"},"\u6700\u9ad8 20.00")),s.a.createElement("td",{id:"live_odd_"+n},Object(f.e)(t.odds-(t.parent_total_fee+t.myfee)*t.odds)),s.a.createElement("td",null,s.a.createElement("input",{key:"max-"+n,id:"max-"+n,defaultValue:t.max,name:"max_"+t.name,className:"inp_min_c ",onChange:e.onChangeNum.bind(e,"max-"+n,t.parent_max)}),"  ",s.a.createElement("font",{color:"red"},"\u6700\u9ad8",t.parent_max)," "),s.a.createElement("td",null,s.a.createElement("input",{key:"tmax-"+n,id:"tmax-"+n,defaultValue:t.tmax,name:"tmax_"+t.name,className:"inp_min_c ",onChange:e.onChangeNum.bind(e,"tmax-"+n,t.parent_tmax)}),"  ",s.a.createElement("font",{color:"red"},"\u6700\u9ad8",t.parent_tmax)," "))})),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"6"}," ",s.a.createElement("button",{type:"button",class:"btn red",onClick:this.onSaveSubmit.bind(this)},"\u4fdd\u5b58"),' (\u6240\u6709\u53d8\u52a8\u5728\u70b9\u9009"\u4fdd\u5b58"\u540e\u751f\u6548) '))))))}}]),n}(i.Component);t.default=Object(m.g)(Object(d.a)(function(e){return{loginer:e.auth.user}},function(e){return Object(u.c)({getFeeConfig:h.t,getUser:h.E,setUserTerm:h.ob},e)})(v))}}]);