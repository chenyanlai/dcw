(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{443:function(e,t,a){"use strict";var n=a(9),r=a(10),l=a(12),o=a(13),c=a(6),i=a(0),s=a.n(i),u=(a(28),a(4),a(5));function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var d=function(e){Object(l.a)(a,e);var t=m(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onPage=function(e){e<=0||(r.setState({current_page:e}),r.props.onPage&&r.props.onPage(e))},r.getPageData=function(e,t){if(t.length<=12)return t;var a=new Array;return e<=2?(a.push(t[0]),a.push(t[1]),a.push(t[2]),a.push(t[3]),a.push(t[5]),a.push({idx:0,label:" . . . "}),a.push(t[t.length-5]),a.push(t[t.length-4]),a.push(t[t.length-3]),a.push(t[t.length-2]),a.push(t[t.length-1])):(a.push(t[e-3]),a.push(t[e-2]),a.push(t[e-1]),e<=t.length-1&&a.push(t[e]),e+1<=t.length-1&&(a.push(t[e+1]),t.length-5>e+2&&a.push({idx:0,label:" . . . "}),e+2<=t.length-5&&a.push(t[t.length-5]),e+2<=t.length-4&&a.push(t[t.length-4]),e+2<=t.length-3&&a.push(t[t.length-3]),e+2<=t.length-2&&a.push(t[t.length-2]),e+2<=t.length-1&&a.push(t[t.length-1]))),a},r.state={pager:{},list:[],total_page:1,current_page:1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.pager;this.setData(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.pager;this.setData(e)}},{key:"setData",value:function(e){if(!u.a.isEqual(e,this.state.pager)){var t=Math.floor(e.total/e.size);e.size%e.total!==0&&t++;for(var a=new Array,n=1;n<=t;n++)a.push({idx:n,label:n});var r=e.offset/e.size+1;this.setState({list:a,total_page:t,current_page:r,pager:e})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.current_page,n=t.total_page,r=t.list;return s.a.createElement("nav",{"aria-label":"Page navigation"},s.a.createElement("ul",{class:"pagination pagination-lg justify-content-center"},a>1&&s.a.createElement("li",{class:"page-item"},s.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u9996\u9875")),1===a&&n>0&&s.a.createElement("li",{class:"page-item disabled"},s.a.createElement("a",{class:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),a>1&&s.a.createElement("li",{class:"page-item"},s.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,a-1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0a\u4e00\u9801")),this.getPageData(a,r).map(function(t){return s.a.createElement("li",{className:a===t.idx?"page-item active":"page-item"},s.a.createElement("a",{onClick:e.onPage.bind(e,t.idx),className:"page-link",href:"javascript:;"},t.label))}),a===n&&s.a.createElement("li",{class:"page-item disabled"},s.a.createElement("a",{class:"page-link",href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801")),a<n&&s.a.createElement("li",{class:"page-item"},s.a.createElement("a",{class:"page-link",onClick:this.onPage.bind(this,a+1),href:"javascript:;",tabindex:"-1","aria-disabled":"true"},"\u4e0b\u4e00\u9801"))))}}]),a}(i.Component);t.a=d},444:function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",function(){return n})},446:function(e,t,a){(function(e,n){var r;!function(l){var o=t,c=(e&&e.exports,"object"==typeof n&&n);c.global!==c&&c.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new i(e)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,a,n,r,l=e.length%3,o="",c=-1,i=e.length-l;++c<i;)t=e.charCodeAt(c)<<16,a=e.charCodeAt(++c)<<8,n=e.charCodeAt(++c),o+=u.charAt((r=t+a+n)>>18&63)+u.charAt(r>>12&63)+u.charAt(r>>6&63)+u.charAt(63&r);return 2==l?(t=e.charCodeAt(c)<<8,a=e.charCodeAt(++c),o+=u.charAt((r=t+a)>>10)+u.charAt(r>>4&63)+u.charAt(r<<2&63)+"="):1==l&&(r=e.charCodeAt(c),o+=u.charAt(r>>2)+u.charAt(r<<4&63)+"=="),o},decode:function(e){var t=(e=String(e).replace(m,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var a,n,r=0,l="",o=-1;++o<t;)n=u.indexOf(e.charAt(o)),a=r%4?64*a+n:n,r++%4&&(l+=String.fromCharCode(255&a>>(-2*r&6)));return l},version:"0.1.0"};void 0===(r=function(){return d}.call(t,a,t,e))||(e.exports=r)}()}).call(this,a(202)(e),a(83))},472:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(9),r=a(10),l=a(29),o=a(12),c=a(13),i=a(6),s=a(0),u=a.n(s),m=a(148),d=a(4);a(5);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var h=function(e){Object(o.a)(a,e);var t=p(a);function a(e,r){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleClose=function(){o.close()},o.componentDidMount=function(){Object(l.a)(o);var e=(document.body.clientWidth||document.documentElement.clientWidth)/2,t=(document.documentElement.clientHeight||document.body.clientHeight)/2;o.setState({top:t,left:e})},o.close=function(){!function(){var e=document.getElementById("react-confirm-alert");e&&(Object(m.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}()},o.getRoleList=function(){var e=window.role,t=new Array;for(t.push(e);e>=20;)999===e?(e=70,t.push(e)):20===e?e=1:(e-=10,t.push(e));return t},o.htmlNumber=function(e){return e>=0?Object(d.e)(e,0):u.a.createElement("font",{color:"red"},Object(d.e)(e,0))},o.sum=function(e,t){var a=0;return e.forEach(function(e){a+=e[t]}),a},o.subPartAmount=function(e,t){var a=0;return e.forEach(function(e){a+=parseFloat(Object(d.e)(e["op"+t].part/100,3))*e.total_amount}),a},o.state={top:0,left:0,width:e.width,height:e.height,current_role:window.role},o.moving=!1,o.lastX=null,o.lastY=null,window.onmouseup=function(e){return o.onMouseUp(e)},window.onmousemove=function(e){return o.onMouseMove(e)},o}return Object(r.a)(a,[{key:"onMouseDown",value:function(e){e.stopPropagation(),this.moving=!0}},{key:"onMouseUp",value:function(){this.moving=!1,this.lastX=null,this.lastY=null}},{key:"onMouseMove",value:function(e){this.moving&&this.onMove(e)}},{key:"onMove",value:function(e){if(this.lastX&&this.lastY){var t=e.clientX-this.lastX,a=e.clientY-this.lastY;this.setState({left:this.state.left+t,top:this.state.top+a})}this.lastX=e.clientX,this.lastY=e.clientY}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.width,r=t.order,l=this.state,o=l.left,c=l.top,i=l.current_role;return u.a.createElement("div",{className:"modal fade show",style:{backgroundColor:"rgba(0,0,0,0.5)",display:"block"}},u.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:{position:"absolute",transform:"translateX(-50%) translateY(-25%)",width:n+"px",maxWidth:n+"px",top:c+"px",left:o+"px",display:"block"}},u.a.createElement("div",{className:"modal-content"},u.a.createElement("div",{className:"modal-header",onMouseDown:function(t){return e.onMouseDown(t)}},u.a.createElement("h3",{className:"modal-title",id:"staticBackdropLabel"},a," "),u.a.createElement("button",{type:"button",className:"close",style:{fontSize:"20px"},onClick:this.handleClose.bind(this)},u.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),u.a.createElement("div",{className:"modal-body",style:{maxHeight:"450px",overflowX:"hidden",overflowY:"scroll"}},u.a.createElement("div",{className:"m5 realtime_betdetail"},u.a.createElement("table",{className:"table table-bordered table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",{className:"bg1"},u.a.createElement("th",null,"\u5e8f\u53f7"),u.a.createElement("th",null,"\u6295\u6ce8\u9009\u9879"),u.a.createElement("th",null,"\u76d8\u53e3"),u.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u984d"),u.a.createElement("th",null,"\u8ce0\u7387"),u.a.createElement("th",null,"\u9000\u6c34(%)"),u.a.createElement("th",null,"\u5360\u6210\u91d1\u989d"),u.a.createElement("th",null,"\u76c8\u4e8f"),u.a.createElement("th",null,"\u4e0b\u6ce8\u7ed3\u679c"))),u.a.createElement("tbody",null,r.number_list.map(function(t,a){return u.a.createElement("tr",{key:"tr-"+a},u.a.createElement("td",null,a+1),u.a.createElement("td",null,r.algorithm_name," - ",t.number),u.a.createElement("td",null,r.pan),u.a.createElement("td",null,r.period_amount),u.a.createElement("td",null,Object(d.e)(t.odds)),u.a.createElement("td",null,Object(d.e)(r["op"+i].yoji),"%"),u.a.createElement("td",null,e.htmlNumber(r.period_amount*r["op"+i].part/100)),u.a.createElement("td",null,Object(d.e)(r["op"+i].final_profit)),r["op"+i].final_profit>0&&u.a.createElement("td",{style:{color:"green"}},"\u8f93"),0===r["op"+i].final_profit&&u.a.createElement("td",null,"\u5e73"),r["op"+i].final_profit<0&&u.a.createElement("td",{style:{color:"red"}},"\u8f93"),null===r["op"+i].final_profit&&u.a.createElement("td",null,"\u672a\u7ed3\u7b97"))}))))),u.a.createElement("div",{className:"modal-footer"},u.a.createElement("button",{onClick:this.handleClose.bind(this),className:"btn btn-kx"},"\u5173\u95ed")))))}}]),a}(s.Component);function f(e){!function(e){var t=document.getElementById("react-confirm-alert");t?Object(m.render)(u.a.createElement(h,e),t):(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t),Object(m.render)(u.a.createElement(h,e),t))}(e)}h.defaultProps={width:1100,height:150,order:{},uid:"",title:"\u6ce8\u5355\u660e\u7ec6"}},699:function(e,t,a){"use strict";a.r(t);var n=a(444),r=a(9),l=a(10),o=a(29),c=a(12),i=a(13),s=a(6),u=a(0),m=a.n(u),d=a(21),p=a(41),h=a(15),f=a(28),b=a(4),g=(a(5),a(93)),E=a(42),v=a(443),y=a(472);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var j=a(446),O=function(e){Object(c.a)(a,e);var t=_(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onPage=function(e){var t=Object(o.a)(n),a=(e-1)*n.state.pageSize;t.props.listOrder(n.state.model.uid,n.state.model.lottery_id,n.state.model.s_id,n.state.model.e_id,a,n.state.pageSize,function(e){t.setState({list:e.list,summary:e.summary,pager:e.pager,nav_list:e.nav_list})},t.state.model.playname,0,t.state.model.stat)},n.gotoNav=function(e){var t=n.state.model;"daily"===t.from?g.a.push({pathname:"/report/daily/"+e}):g.a.push({pathname:"/report/"+t.from+"/"+j.encode(JSON.stringify({uid:e,s_date:t.s_date,s_id:t.s_id,s_period:t.s_period,e_date:t.e_date,e_id:t.e_id,e_period:t.e_period}))})},n.goBack=function(){g.a.goBack()},n.htmlNumber=function(e,t){return void 0!==t&&null!==t||(t=0),e>=0?m.a.createElement("font",{color:"green"},Object(b.e)(e,t)):m.a.createElement("font",{color:"red"},Object(b.e)(e,t))},n.sum=function(e,t){var a=0;return e.forEach(function(e){-1!==e.stat&&(a+=e[t])}),a},n.getXiajiOP=function(e,t){for(var a=Object(b.g)(t),n=e["op"+a];n.yoji<=0&&a>1;)n=e["op"+(a=Object(b.g)(a))];return n},n.getXiajiRole=function(e,t){for(var a=Object(b.g)(t),n=e["op"+a];n.yoji<=0&&a>1;)n=e["op"+(a=Object(b.g)(a))];return a},n.sumYoji=function(e,t){for(var a=0,n=0;n<e.length;n++){var r=e[n];a+=r["op"+t].fee_in-r["op"+t].fee_out}return-1*a},n.getRoleList=function(){for(var e=20,t=new Array;e<=n.state.current_role;)t.push(e),70===e?e=999:e+=10;return t},n.htmlOdds=function(e){if(null===e[0].odds_str)return m.a.createElement("div",null,Object(b.e)(e[0].odds));if(e.length>1){var t=new Array,a=new Array,n={},r={};e.forEach(function(e){var l;l=-1!==e.number.indexOf(",")?e.number.split(","):e.number.split("-");var o=e.odds_str;if(-1!==o.indexOf(";")){var c=o.split(";");c[0].split("/").forEach(function(e,a){void 0===n[l[a]]&&""!==e&&(n[l[a]]="",t.push(e))}),c[1].split("/").forEach(function(e,t){void 0===r[l[t]]&&""!==e&&(r[l[t]]="ues",a.push(e))})}else{o.split("/").forEach(function(e,a){void 0===n[l[a]]&&""!==e&&(n[l[a]]="",t.push(e))})}});var l="";t.forEach(function(e,t){t>0&&(l+="/"),l+=Object(b.e)(e,3)+""});var o="";return a.forEach(function(e,t){t>0&&(o+="/"),o+=Object(b.e)(e,3)+""}),""===o?l:m.a.createElement("div",null,l,m.a.createElement("br",null),o)}return m.a.createElement("div",null,e[0].odds_str)},n.showOrderDetail=function(e){Object(y.a)({order:e})},n.sumCount=function(e){var t=0;return e.forEach(function(e){-1!==e.stat&&(t+=1)}),t},n.htmlNumber2=function(e,t){return void 0!==t&&null!==t||(t=2),e>=0?m.a.createElement("font",{color:""},Object(b.e)(e,t)):m.a.createElement("font",{color:"red"},Object(b.e)(e,t))},n.state={inited:!1,pager:{},list:[],nav_list:[{role:1}],summary:{op1:{},op20:{},op30:{},op40:{},op50:{},op60:{},op70:{},op999:{}},totalVO:{total_amount:0,total_yoji:0,total_profit:0,total_final_profit:0},pageSize:25,pageOffset:0,current_role:window.role,model:{uid:"",s_date:"",s_id:"",s_period:"",e_date:"",e_id:"",stat:2,e_period:"",lottery_id:"2021000",playname:"",from:"agent"}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.model;try{var a=JSON.parse(j.decode(t));console.log(a),void 0===a.playname?a.playname="":a.playname=decodeURIComponent(a.playname),void 0==a.stat&&(a.stat=2),e.setState({model:a},function(){e.props.listOrder(a.uid,a.lottery_id,a.s_id,a.e_id,0,this.state.pageSize,function(t){e.setState({list:t.list,summary:t.summary,pager:t.pager,nav_list:t.nav_list})},a.playname,0,a.stat)})}catch(n){alert(n),g.a.goBack()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.nav_list,r=t.pager,l=t.summary;t.model,t.current_role;return m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"titlebar"},m.a.createElement("h3",{style:{left:"70px"}},"\u6ce8\u5355\u62a5\u8868"),m.a.createElement("button",{className:"btn",style:{marginLeft:"6px"},onClick:this.goBack.bind(this)},"\u8fd4\u56de")),m.a.createElement("div",{className:"tablelist "},m.a.createElement("table",{className:"table table-bordered table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",{className:"bg1"},m.a.createElement("th",null),m.a.createElement("th",null,"\u6ce8\u5355\u53f7/\u4e0b\u6ce8\u65f6\u95f4"),m.a.createElement("th",null,"\u5f69\u7968\u7c7b\u578b/\u671f\u6570"),m.a.createElement("th",null,"\u76d8\u53e3"),m.a.createElement("th",null,"\u8d26\u53f7/\u9000\u6c34"),m.a.createElement("th",null,"\u5185\u5bb9"),m.a.createElement("th",null,"\u4e0b\u6ce8\u91d1\u989d"),m.a.createElement("th",null,"\u7ed3\u679c"),this.getRoleList().map(function(e){return m.a.createElement("th",null,Object(b.i)(e),"\u4ea4\u6536",m.a.createElement("br",null),m.a.createElement("font",{color:"#999"},"\u8d5a\u6c34 / \u5360\u6210"))}))),m.a.createElement("tbody",{className:"tr bold"},m.a.createElement("tr",null,m.a.createElement("td",{colSpan:"5",style:{textAlign:"right"}},"\u603b\u8ba1\uff1a\u5171",l.total_count,"\u6761"),m.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}},"\u603b\u4e0b\u6ce8\u91d1\u989d\uff1a",this.htmlNumber(l.total_amount)),m.a.createElement("td",null,this.htmlNumber2(l["op"+n[n.length-1].role].final_profit,2)),this.getRoleList().map(function(t){return m.a.createElement("td",null,e.htmlNumber2(-1*l["op"+t].pay_out,2))}))),m.a.createElement("tbody",{className:"tr fn-hover"},a.map(function(t,a){return m.a.createElement("tr",{key:"tr-"+a},m.a.createElement("td",null,a+1),m.a.createElement("td",{width:"130"},"#",t.order_id.substring(5),m.a.createElement("br",null),Object(b.a)(t.created_at,"yyyy-MM-dd hh:mm:ss")),m.a.createElement("td",null,"\u6fb3\u95e8\u516d\u5408\u5f69",m.a.createElement("br",null),m.a.createElement("font",{color:"red"},t.period)),m.a.createElement("td",null,"H"===t.pan?"\u539f\u59cb\u76d8":t.pan),m.a.createElement("td",null,t.user.username,m.a.createElement("br",null),m.a.createElement("font",{color:"#999"},Object(b.e)(100*t["op"+t.user.role].yoji,3))),m.a.createElement("td",null,t.number_list.length<=1&&m.a.createElement("span",null,Object(b.o)(t.play_name,t.algorithm_name,t.alias)),t.number_list.length>1&&m.a.createElement(d.a,{to:"#",onClick:e.showOrderDetail.bind(e,t)},Object(b.o)(t.play_name,t.algorithm_name,t.alias)),"@ ",m.a.createElement("font",{color:"red"},Object(b.e)(t.number_list[0].odds))),m.a.createElement("td",null,e.htmlNumber2(t.total_amount)),-1===t.stat&&m.a.createElement("td",{style:{color:"red"}},"\u5df2\u53d6\u6d88"),-1!==t.stat&&m.a.createElement("td",null,e.htmlNumber2(t["op"+t.user.role].final_profit,2),1==t.type&&null!==t.type_name&&m.a.createElement("p",{style:{color:"#999"}},t.type_name),1===t.type&&null===t.type_name&&m.a.createElement("p",{style:{color:"#999"}},"\u81ea\u52a8\u98de\u5355")),e.getRoleList().map(function(a){return m.a.createElement("td",null,0==t["op"+a].pay_out&&t["op"+a].fee_in-t["op"+a].fee_out==0&&0==t["op"+a].part?m.a.createElement("span",null,"--"):m.a.createElement("span",null,e.htmlNumber2(-1*(null===t["op"+a].pay_out?0:t["op"+a].pay_out),2),m.a.createElement("br",null),m.a.createElement("br",null),e.htmlNumber2(100*t["op"+a].yoji,3),"% / ",e.htmlNumber2(t["op"+a].part,2),"%"))}))}))),m.a.createElement(v.a,{pager:r,onPage:this.onPage.bind(this)})))}}]),a}(u.Component);t.default=Object(p.g)(Object(f.a)(function(e){return Object(n.a)(e),{}},function(e){return Object(h.c)({listOrder:E.W},e)})(O))}}]);